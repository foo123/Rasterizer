/**
*   Rasterizer
*   rasterize, stroke and fill lines, rectangles, curves and paths
*
*   @version 0.9.9
*   https://github.com/foo123/Rasterizer
*
**/
!function(t,n,e){"use strict";"object"==typeof module&&module.exports?module.exports=e.call(t):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(n)?define(n,["module"],function(n){return e.call(t)}):n in t||(t[n]=e.call(t)||1)&&"function"==typeof define&&define.amd&&define(function(){return t[n]})}("undefined"!=typeof self?self:this,"Rasterizer",function(e){"use strict";var z=Object.defineProperty,n="prototype",Ln=Math,O=1/0,r=Ln.sqrt(2),I=isNaN,P=isFinite,s=Ln.PI,p=2*s,o=6,f=r,c=.5,Gn="undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:"undefined"!=typeof Uint8Array?Uint8Array:Array;function _(n,t,e,r){if(!(this instanceof _))return new _(n,t,e,r);r=r||(e&&e.$imgData?_.getRGBAFrom(e.$imgData):function(n,t){return[0,0,0,0]});var u=new k(n,t,e,r);z(this,"width",{get:function(){return n},set:function(n){}}),z(this,"height",{get:function(){return t},set:function(n){}}),this.getContext=function(n){if("2d"===n)return u;b('Unsupported context "'+n+'"')}}function k(q,A,g,h){var o,i,t,e,p,y,r,u,l,a,f,c,s,m,d,T,x=this,v=null,w=null,S=1,b=function(){v={}},C=function(n){for(var t in v){var e=v[t],t=t.split(",");n(+t[0],+t[1],e)}v=null},J=function(n,t,e){var r;0<=n&&n<q&&0<=t&&t<A&&0<e&&0<m&&(n=String(n)+","+String(t),t=v[n]||0,r=w?w[n]||0:1,t<(e*=S*m*r))&&(v[n]=e)},R=function(n,t,e){var r="clear"===d?[0,0,0,0]:o(n,t),u=3<r.length?r[3]:1;g(n,t,r[0],r[1],r[2],u*e,d)},D=function(n,t,e){var r="clear"===d?[0,0,0,0]:i(n,t),u=3<r.length?r[3]:1;g(n,t,r[0],r[1],r[2],u*e,d)},n=function(n){o=_.getRGBAFrom([0,0,0,1]),i=_.getRGBAFrom([0,0,0,1]),w=v=null,r="butt",u="miter",l=10,a=1,f=[],c=0,s=G.EYE(),m=1,d="source-over",t=[],T=new L(s),n||x.clearRect(0,0,q,A)};z(x,"strokeStyle",{get:function(){return""},set:function(n){o=_.getRGBAFrom(n)}}),z(x,"fillStyle",{get:function(){return""},set:function(n){i=_.getRGBAFrom(n)}}),z(x,"lineWidth",{get:function(){return a},set:function(n){!I(n=+n)&&P(n)&&0<=n&&(a=n)}}),z(x,"lineCap",{get:function(){return r},set:function(n){n=String(n).toLowerCase(),-1!==["butt","square","round"].indexOf(n)&&(r=n)}}),z(x,"lineJoin",{get:function(){return u},set:function(n){n=String(n).toLowerCase(),-1!==["miter","bevel","round"].indexOf(n)&&(u=n)}}),z(x,"miterLimit",{get:function(){return l},set:function(n){!I(n=+n)&&P(n)&&0<=n&&(l=n)}}),z(x,"lineDashOffset",{get:function(){return c},set:function(n){!I(n=+n)&&P(n)&&0<=n&&(c=n)}}),z(x,"lineDash",{get:function(){return f.slice()},set:function(n){1&(n=[].concat(n)).length&&(n=n.concat(n)),f=n}}),x.getLineDash=function(){return x.lineDash},x.setLineDash=function(n){x.lineDash=n},z(x,"globalAlpha",{get:function(){return m},set:function(n){!I(n=+n)&&0<=n&&n<=1&&(m=n)}}),z(x,"globalCompositeOperation",{get:function(){return d},set:function(n){d=String(n)}}),x.save=function(){(t=t||[]).push([o,i,w,r,u,l,a,f,c,s,m,d])},x.restore=function(){var n;t&&t.length&&(n=t.pop(),o=n[0],i=n[1],w=n[2],r=n[3],u=n[4],l=n[5],a=n[6],f=n[7],c=n[8],T._t=s=n[9],m=n[10],d=n[11])},x.reset=function(){n()},x.scale=function(n,t){T._t=s=s.mul(G.scale(n,t))},x.rotate=function(n){T._t=s=s.mul(G.rotate(n||0))},x.translate=function(n,t){T._t=s=s.mul(G.translate(n||0,t||0))},x.transform=function(n,t,e,r,u,o){T._t=s=s.mul(new G(n,e,u,t,r,o))},x.getTransform=function(){return s.clone()},x.setTransform=function(n,t,e,r,u,o){1<arguments.length?s=new G(n,e,u,t,r,o):n&&null!=n.a&&null!=n.f&&(s=new G(n.a,n.c,n.e,n.b,n.d,n.f)),T._t=s},x.resetTransform=function(){T._t=s=G.EYE()},x.beginPath=function(){T=new L(s)},x.closePath=function(){T.closePath()},x.moveTo=function(n,t){T.moveTo(n,t)},x.lineTo=function(n,t){T.lineTo(n,t)},x.rect=function(n,t,e,r){T.rect(n,t,e,r)},x.roundRect=function(n,t,e,r){T.roundRect.apply(T,arguments)},x.arc=function(n,t,e,r,u,o){T.arc(n,t,e,r,u,o)},x.ellipse=function(n,t,e,r,u,o,i,l){T.ellipse(n,t,e,r,u,o,i,l)},x.arcTo=function(n,t,e,r,u){T.arcTo(n,t,e,r,u)},x.quadraticCurveTo=function(n,t,e,r){T.quadraticCurveTo(n,t,e,r)},x.bezierCurveTo=function(n,t,e,r,u,o){T.bezierCurveTo(n,t,e,r,u,o)},x.clearRect=function(n,t,e,r){var u=d,o=m;d="clear",m=1,x.fill(new L(s).rect(n,t,e,r),"evenodd"),d=u,m=o},x.strokeRect=function(n,t,e,r){0<a&&x.stroke(new L(s).rect(n,t,e,r))},x.fillRect=function(n,t,e,r){x.fill(new L(s).rect(n,t,e,r),"evenodd")},x.stroke=function(n){var t;0<a&&(t=S,a<1&&(S=a),b(),E(J,n=n||T,a,0,0,r,u,l,0,0,q-1,A-1),C(R),S=t)},e=function(n,t){var e=S,r=q-1,u=A-1,o=(E(J,n,S=.5,0,0,"butt","bevel",0,0,0,r,u),S=e,J),e=t,i=0,t=0,l=r,r=u,a=n._sd;if(a.length){var f,c,s,m,h,d,g,p,y,x,v,w,b,C,T=a.length,R=new Array(T),D=a.ymin,z=a.ymax,I=0,P="evenodd"===e;for(D=Ln.max(t,Ln.round(D)),z=Ln.min(r,Ln.round(z));D<=z;++D){for(;I<T&&a[I][3]<D;)++I;if(T<=I)break;if((s=a[I])[1]>D)D=Ln.floor(s[1]);else{for(x=s[0],v=s[2],h=s[1],d=s[3],y=hn(h,d)?(w=!1,p=Ln.min(x,v),Ln.max(x,v)):p=w=(v-x)*(D-h)/(d-h)+x,s[8]=w,s[9]=0,R[0]=s,f=I+(c=1);f<T&&a[f][1]<=D;++f)(s=a[f])[3]>=D&&(x=s[0],v=s[2],h=s[1],d=s[3],y=hn(h,d)?(w=!1,p=Ln.min(p,x,v),Ln.max(y,x,v)):(w=(v-x)*(D-h)/(d-h)+x,p=Ln.min(p,w),Ln.max(y,w)),s[8]=w,s[9]=0,R[c++]=s);if(m=F(R,c),!(c<m+2||(p=Ln.max(i,Ln.round(p+.5)),(y=Ln.min(l,Ln.round(y-.5)))<p)))if(P)for(g=p;g<=y;++g){for(C=b=!1,f=0;f<c;++f)(s=R[f])[9]||!1!==(w=s[8])&&(w<g&&(b=!b),g<w)&&(C=!C);b&&C&&o(g,D,1)}else for(g=p;g<=y;++g){for(f=C=b=0;f<c;++f)(s=R[f])[9]||!1!==(w=s[8])&&(w<g||g<w)&&(m=M(g,D,s[s[4]<0?2:0],s[s[4]<0?3:1],s[s[4]<0?0:2],s[s[4]<0?1:3]),w<g&&(b+=m),g<w)&&(C+=m);b&&C&&o(g,D,1)}}}}},x.fill=function(n,t){!arguments.length||null==n&&null==t?(n=T,t="nonzero"):1!==arguments.length&&null!=t||(n instanceof L?t="nonzero":(t=n,n=T)),t=String(t||"nonzero").toLowerCase(),b(),e(n=n||T,t="evenodd"!==t?"nonzero":t),C(D)},x.clip=function(n,t){!arguments.length||null==n&&null==t?(n=T,t="nonzero"):1!==arguments.length&&null!=t||(n instanceof L?t="nonzero":(t=n,n=T)),"evenodd"!==(t=String(t||"nonzero").toLowerCase())&&(t="nonzero"),(n=n||T)===T&&(T=new L(s)),b(),e(n,t),w=v,v=null},x.isPointInStroke=function(n,t,e){arguments.length<3&&(e=t,t=n,n=T);var r,u,o,i,l,a,f,c=t||0,s=e||0,t=n||T,m=t._d,h=m.length;for(r=0;r<h;++r)if(o=m[r],0<(i=o.length-2))for(u=0;u<i;u+=2)if(l=+o[u],a=o[u+1],f=+o[u+2],mn((o[u+3]-a)*(c-l),(s-a)*(f-l),1e-4))return!0;return!1},x.isPointInPath=function(n,t,e,r){n instanceof L||(r=e,e=t,t=n,n=T),"evenodd"!==(r=String(r||"nonzero").toLowerCase())&&(r="nonzero");var u=t||0,o=e||0,t=r,i=(e=n||T)._sd;if(!(!i.length||o<i.ymin||o>i.ymax)){for(var l,a,f,c,s,m,h,d,g,p,y,x,v,w=i.length,b=new Array(w),C=0,e="evenodd"===t;C<w&&i[C][3]<o;)++C;if(!(w<=C||(f=i[C])[1]>o)){for(g=f[0],p=f[2],s=f[1],m=f[3],d=hn(s,m)?(y=!1,h=Ln.min(g,p),Ln.max(g,p)):h=y=(p-g)*(o-s)/(m-s)+g,f[8]=y,f[9]=0,b[0]=f,l=C+(a=1);l<w&&i[l][1]<=o;++l)(f=i[l])[3]>=o&&(g=f[0],p=f[2],s=f[1],m=f[3],d=hn(s,m)?(y=!1,h=Ln.min(h,g,p),Ln.max(d,g,p)):(y=(p-g)*(o-s)/(m-s)+g,h=Ln.min(h,y),Ln.max(d,y)),f[8]=y,f[9]=0,b[a++]=f);if(c=F(b,a),a<c+2)return!1!==b[0][8]&&mn(u,b[0][8]);if(!(d<h||u<h||d<u)){if(e)for(v=x=!1,l=0;l<a;++l)(f=b[l])[9]||!1!==(y=f[8])&&(y<=u&&(x=!x),u<=y)&&(v=!v);else for(l=v=x=0;l<a;++l)(f=b[l])[9]||!1!==(y=f[8])&&(y<u||u<y)&&(c=M(u,o,f[f[4]<0?2:0],f[f[4]<0?3:1],f[f[4]<0?0:2],f[f[4]<0?1:3]),y<=u&&(x+=c),u<=y)&&(v+=c);if(x&&v)return!0}}}return!1},p=function(n,t,e,r,u,o,i){if(r=Ln.min(r,t-1),u=Ln.min(u,e-1),o=Ln.min(o,t-1),i=Ln.min(i,e-1),o<r||i<u)return new Gn(0);var l,a,f,c,s,m=new Gn((o-r+1)*(i-u+1)<<2);if(n)for(a=r,f=u,c=0;f<=i;c+=4,++a)o<a&&(a=r,++f),m[c]=n[s=f*t+a<<2],m[c+1]=n[1+s],m[c+2]=n[2+s],m[c+3]=n[3+s];else for(a=r,f=u,c=0;f<=i;c+=4,++a)o<a&&(a=r,++f),l=h(a,f),m[c]=En(l[0],0,255),m[c+1]=En(l[1],0,255),m[c+2]=En(l[2],0,255),m[c+3]=En(Ln.round(255*l[3]),0,255);return m},y=function(n,t,e,r,u,o,i,l,a,f,c,s){var m,h,d;for(i=Ln.min(i,u-1),l=Ln.min(l,o-1),c=Ln.min(c,t-1),s=Ln.min(s,e-1),a=Ln.min(a,u-1),f=Ln.min(f,o-1),c-=i,s-=l,h=i,d=l;d<=f;++h)a<h&&(h=i,++d),e<=d+s||t<=h+c||g(h+c,d+s,r[m=d*u+h<<2],r[1+m],r[2+m],r[3+m]/255,"copy");return n},x.drawImage=function(n,t,e,r,u,o,i,l,a){var f=q,c=A,s=n.width,m=n.height,n=n.data,h=arguments.length,d=k.Interpolation.bilinear;t=t||0,e=e||0,3===h?y(null,f,c,n,s,m,0,0,s-1,m-1,o=t,i=e):5===h?(o=t,i=e,a=u,y(null,f,c,s===(l=r)&&m===a?n:d(n,s,m,l,a),l,a,0,0,l-1,a-1,o,i)):y(null,f,c,r===l&&u===a?p(n,s,m,t,e,t+r-1,e+u-1):d(p(n,s,m,t,e,t+r-1,e+u-1),r,u,l,a),l,a,0,0,l-1,a-1,o,i)},x.getImageData=function(n,t,e,r){var u=q,o=A;return null==t&&(t=0),null==r&&(r=o),n=Ln.max(0,Ln.min(n=null==n?0:n,(e=null==e?u:e)-1,u-1)),t=Ln.max(0,Ln.min(t,r-1,o-1)),e=Ln.min(n+e-1,e-1,u-1),r=Ln.min(t+r-1,r-1,o-1),{data:p(null,u,o,n,t,e,r),width:e-n+1,height:r-t+1}},x.putImageData=function(n,t,e){var r=n.width,u=n.height;y(null,q,A,n.data,r,u,0,0,r-1,u-1,t=null==t?0:t,e=null==e?0:e)},n(!0)}function L(m){m=m||G.EYE();var h=this,d=!0,g=[],p=null;z(h,"_t",{get:function(){return m.clone()},set:function(n){m=n}}),z(h,"_d",{get:function(){return g},set:function(n){}}),z(h,"_sd",{get:function(){return p=p||N(g).sort(U)},set:function(n){}}),h.moveTo=function(n,t){n=x([n,t],m);return n&&(g.push(n),d=!1),h},h.closePath=function(){var n,t,e,r;return g.length&&2<g[g.length-1].length&&(n=+g[g.length-1][0],t=g[g.length-1][1],e=+g[g.length-1][g[g.length-1].length-2],r=g[g.length-1][g[g.length-1].length-1],mn(n,e,1e-6)&&mn(t,r,1e-6)||(g[g.length-1].push(n,t),g.push([n,t]),d=!1,p=null)),h},h.lineTo=function(n,t){n=x([n,t],m);return n&&(d?(g.push(n),d=!1):(g[g.length-1].push(n[0],n[1]),p=null)),h},h.rect=function(n,t,e,r){e=x([n,t,n+e,t,n+e,t+r,n,t+r],m);return e&&(e.push(e[0],e[1]),g.length&&g[g.length-1].length<=2?g[g.length-1]=e:g.push(e),g.push([e[0],e[1]]),e[0]=new y(+e[0],{lineCap:"butt",lineJoin:"miter"}),p=null,d=!1),h},h.roundRect=function(n,t,e,r){var u,o,i,l,a,f,c,s=x([n,t,e,r]);return s&&(((f=(arguments[4]&&arguments[4].push?arguments[4]:[].slice.call(arguments,4)).filter(function(n){return 0<n})).length<1||4<f.length)&&b("Invalid radii in roundRect"),4===f.length?(u=f[0],o=f[1],i=f[2],l=f[3]):3===f.length?(u=f[0],o=f[1],l=f[1],i=f[2]):l=2===f.length?(u=f[0],i=f[0],o=f[1],f[1]):(u=f[0],o=f[0],i=f[0],f[0]),e<0&&(n+=e,e=-e,c=u,u=o,o=c,c=l,l=i,i=c),r<0&&(t+=r,r=-r,c=u,u=l,l=c,c=o,o=i,i=c),(f=Ln.min(e/(u+o),r/(o+i),e/(i+l),r/(u+l)))<1&&(u*=f,o*=f,l*=f,i*=f),a=m.transform(0,0),c=function(n,t,e,r,u,o,i,l){t=m.transform(t,e),e=m.transform(r,u),r=m.transform(o,i),u=m.transform(l,0);n.push.apply(n,v(t[0],t[1],e[0],e[1],r[0],r[1],sn(u[0]-a[0],u[1]-a[1])))},(f=function(n,t,e){t=m.transform(t,e);n.push(t[0],t[1])})(s=[],n+u,t),f(s,n+e-o,t),c(s,n+e-o,t,n+e,t,n+e,t+o,o),f(s,n+e,t+r-i),c(s,n+e,t+r-i,n+e,t+r,n+e-i,t+r,i),f(s,n+l,t+r),c(s,n+l,t+r,n,t+r,n,t+r-l,l),f(s,n,t+u),c(s,n,t+u,n,t,n+u,t,u),s[0]=new y(+s[0],{lineCap:"butt",lineJoin:"bevel"}),g.push(s),g.push(m.transform(n,t)),p=null,d=!1),h},h.arc=function(n,t,e,r,u,o){var i=x([n,t,e,r,u]);return i&&(e<0&&b("Negative radius in arc"),(i=B(n,t,e,e,0,r,u,o,m))[0]=new y(+i[0],{type:"arc",lineCap:!0,lineJoin:"bevel"}),i[i.length-2]=new y(+i[i.length-2],{type:"arc",lineCap:!0,lineJoin:!0}),d?(g.push(i),d=!1):g[g.length-1].push.apply(g[g.length-1],i),p=null),h},h.ellipse=function(n,t,e,r,u,o,i,l){var a=x([n,t,e,r,u,o,i]);return a&&((e<0||r<0)&&b("Negative radius in ellipse"),(a=B(n,t,e,r,u,o,i,l,m))[0]=new y(+a[0],{type:"arc",lineCap:!0,lineJoin:"bevel"}),a[a.length-2]=new y(+a[a.length-2],{type:"arc",lineCap:!0,lineJoin:!0}),d?(g.push(a),d=!1):g[g.length-1].push.apply(g[g.length-1],a),p=null),h},h.arcTo=function(n,t,e,r,u){u<0&&b("Negative radius in arcTo");n=x([n,t,e,r],m);return n&&(d&&(g.push([n[0],n[1]]),d=!1),t=m.transform(0,0),e=m.transform(u,0),(n=v(+g[g.length-1][g[g.length-1].length-2],g[g.length-1][g[g.length-1].length-1],n[0],n[1],n[2],n[3],sn(e[0]-t[0],e[1]-t[1])))[0]=new y(+n[0],{type:"arc",lineCap:!0,lineJoin:"bevel"}),n[n.length-2]=new y(+n[n.length-2],{type:"arc",lineCap:!0,lineJoin:!0}),g[g.length-1].push.apply(g[g.length-1],n),p=null),h},h.quadraticCurveTo=function(n,t,e,r){n=x([n,t,e,r],m);return n&&(d&&(g.push([n[0],n[1]]),d=!1),t=g[g.length-1].pop(),(n=i([+g[g.length-1].pop(),t,n[0],n[1],n[2],n[3]]))[0]=new y(+n[0],{type:"bezier",lineCap:!0,lineJoin:"bevel"}),n[n.length-2]=new y(+n[n.length-2],{type:"bezier",lineCap:!0,lineJoin:!0}),g[g.length-1].push.apply(g[g.length-1],n),p=null),h},h.bezierCurveTo=function(n,t,e,r,u,o){n=x([n,t,e,r,u,o],m);return n&&(d&&(g.push([n[0],n[1]]),d=!1),t=g[g.length-1].pop(),(n=i([+g[g.length-1].pop(),t,n[0],n[1],n[2],n[3],n[4],n[5]]))[0]=new y(+n[0],{type:"bezier",lineCap:!0,lineJoin:"bevel"}),n[n.length-2]=new y(+n[n.length-2],{type:"bezier",lineCap:!0,lineJoin:!0}),g[g.length-1].push.apply(g[g.length-1],n),p=null),h},h.addPath=function(n){return n instanceof L&&(g.push.apply(g,n._d),p=null),h},h.dispose=function(){p=g=null}}function G(n,t,e,r,u,o){var i=this;arguments.length&&(i.m11=n,i.m12=t,i.m13=e,i.m21=r,i.m22=u,i.m23=o),z(i,"a",{get:function(){return i.m11},set:function(n){i.m11=n}}),z(i,"c",{get:function(){return i.m12},set:function(n){i.m12=n}}),z(i,"e",{get:function(){return i.m13},set:function(n){i.m13=n}}),z(i,"b",{get:function(){return i.m21},set:function(n){i.m21=n}}),z(i,"d",{get:function(){return i.m22},set:function(n){i.m22=n}}),z(i,"f",{get:function(){return i.m23},set:function(n){i.m23=n}}),z(i,"is2D",{get:function(){return!0},set:function(n){}}),z(i,"isIdentity",{get:function(){return hn(i.m11,1)&&hn(i.m12,0)&&hn(i.m13,0)&&hn(i.m21,0)&&hn(i.m22,1)&&hn(i.m23,0)},set:function(n){}})}function y(n,t){this.value=n,this.params=t||null}function x(n,t){for(var e=0,r=n.length;e<r;++e)if(I(n[e])||!P(n[e]))return null;if(t)for(e=0;e<r;e+=2){var u=t.transform(n[e],n[e+1]);n[e]=u[0],n[e+1]=u[1]}return n}function C(G,n,t,E,O,e,B,M,N,F,U,Y){var r,u,o,i,l,$,j,W,V,a,f,X,c,H,s,m,h,d,g,p,y,x,v,w,b,C,T,R,D,K,z,Q,I,P,q,A,Z,S,J,_,k,L,nn=n.length,tn=(t-1)/2,en=B,rn=e;if(nn<6)un(G,u=n[0],o=n[1],i=n[2],l=n[3],a=Ln.abs(i-u),f=Ln.abs(l-o),(c=on(t,a,f))[0],c[1],e,e,tn,N,F,U,Y);else for(nn-=2,H=M*t/2,r=0;r<nn;r+=2)u=n[r],o=n[r+1],i=n[r+2],l=n[r+3],c=on(t,a=Ln.abs(i-u),f=Ln.abs(l-o)),u.params&&u.params.lineCap&&(rn=!0===u.params.lineCap?e:u.params.lineCap),un(G,u,o,i,l,a,f,c[0],c[1],0===r?rn:null,nn===r+2?rn:null,tn,N,F,U,Y),1<t&&0<r&&(u.params&&u.params.lineJoin&&(en=!0===u.params.lineJoin?B:u.params.lineJoin),s=G,m=$,h=j,d=u,g=o,p=i,y=l,x=W,v=V,w=X[0],b=X[1],C=a,T=f,R=c[0],D=c[1],K=en,z=tn,Q=H,I=N,P=F,q=U,A=Y,L=k=_=J=S=Z=void 0,mn(v*C,T*x,1e-4)||(d<m&&p<d&&(L=m,m=p,p=L,L=h,h=y,y=L,L=x,x=C,C=L,L=v,v=T,T=L,L=w,w=R,R=L,L=b,b=D,D=L),b={x:m-(C=(x=d<m?-1:1)*w),y:h+(w=(T=g<h?-1:1)*b)},m={x:m+C,y:h-w},h={x:d-C,y:g+w},C={x:d+C,y:g-w},S={x:d-(R=(w=p<d?-1:1)*R),y:g+(D=(Z=y<g?-1:1)*D)},J={x:d+R,y:g-D},_={x:p-R,y:y+D},p={x:p+R,y:y-D},R={x:d,y:g},y=x==w?T==Z?hn(v,0)?(k=C,J):(k=h,S):(k=h,J):(k=C,S),"bevel"===K?(cn(s,k.x,k.y,y.x,y.y,null,null,I,P,q,A),an(s,R.x,R.y,k.x,k.y,y.x,y.y,I,P,q,A)):(L=x==w?T==Z?hn(v,0)?ln(m.x,m.y,C.x,C.y,J.x,J.y,p.x,p.y):ln(b.x,b.y,h.x,h.y,S.x,S.y,_.x,_.y):ln(b.x,b.y,h.x,h.y,J.x,J.y,p.x,p.y):ln(m.x,m.y,C.x,C.y,S.x,S.y,_.x,_.y),D=sn(L.x-R.x,L.y-R.y),"round"===K?(L={x:R.x+z*(L.x-R.x)/D,y:R.y+z*(L.y-R.y)/D},an(s,R.x,R.y,k.x,k.y,y.x,y.y,I,P,q,A),fn(s,k.x,k.y,y.x,y.y,L.x,L.y,z,I,P,q,A)):Q<D?(cn(s,k.x,k.y,y.x,y.y,null,null,I,P,q,A),an(s,R.x,R.y,k.x,k.y,y.x,y.y,I,P,q,A)):(cn(s,k.x,k.y,L.x,L.y,null,null,I,P,q,A),cn(s,y.x,y.y,L.x,L.y,null,null,I,P,q,A),an(s,R.x,R.y,k.x,k.y,y.x,y.y,I,P,q,A),an(s,L.x,L.y,k.x,k.y,y.x,y.y,I,P,q,A))))),$=u,j=o,W=a,V=f,X=c}function un(n,t,e,r,u,o,i,l,a,f,c,s,m,h,d,g){var p,y,x,v,w;0===l&&0===a?cn(n,t,e,r,u,o,i,m,h,d,g,!0,!0):(n=n,e=e,u=u,i=i,l=l,a=a,f=f,c=c,s=s,m=m,h=h,d=d,g=g,(r=r)<(t=t)&&(p=t,t=r,r=p,p=e,e=u,u=p,p=f,f=c,c=p),p=u<e?-1:1,hn(o=o,0)?("square"===f&&(e-=p*l),"square"===c&&(u+=p*l),"round"===f&&fn(n,t-l,e,t+l,e,t,e-p*l,s,m,h,d,g),"round"===c&&fn(n,r-l,u,r+l,u,r,u+p*l,s,m,h,d,g),q(n,Ln.round(t-l),Ln.round(e),Ln.round(t+l),Ln.round(u),m,h,d,g)):hn(i,0)?("square"===f&&(t-=+a),"square"===c&&(r+=+a),"round"===f&&fn(n,t,e-a,t,e+a,t-a,e,s,m,h,d,g),"round"===c&&fn(n,r,u-a,r,u+a,r+a,u,s,m,h,d,g),q(n,Ln.round(t),Ln.round(e-a),Ln.round(r),Ln.round(e+a),m,h,d,g)):("square"===f&&(t-=+a,e-=p*l),"square"===c&&(r+=+a,u+=p*l),i=t-(o=+l),v=e+(y=p*a),t=t+o,e=e-y,x=r-o,w=u+y,r=r+o,o=u-y,"round"===f?fn(n,i,v,t,e,(i-+a+t-+a)/2,(v-p*l+e-p*l)/2,s,m,h,d,g):cn(n,i,v,t,e,null,null,m,h,d,g),cn(n,t,e,r,o,null,null,m,h,d,g),"round"===c?fn(n,r,o,x,w,(+a+x+r+ +a)/2,(w+p*l+o+p*l)/2,s,m,h,d,g):cn(n,r,o,x,w,null,null,m,h,d,g),cn(n,x,w,i,v,null,null,m,h,d,g),an(n,i,v,t,e,x,w,m,h,d,g),an(n,t,e,x,w,r,o,m,h,d,g)))}function on(n,t,e){return n<=1?[0,0]:hn(t,0)?[(n-1)/2,0]:hn(e,0)?[0,(n-1)/2]:[e*(n=(n-1)/2)/(e=sn(t,e)),t*n/e]}function ln(n,t,e,r,u,o,i,l){var a=r-t,f=n-e,e=e*t-n*r,t=l-o,n=u-i,r=i*o-u*l,i=a*n-f*t;return!hn(i,0)&&{x:(f*r-e*n)/i,y:(e*t-a*r)/i}}function q(n,t,e,r,u,o,i,l,a){var f,c;if(r<t&&(f=t,t=r,r=f),u<e&&(c=e,e=u,u=c),null!=o){if(r<o||l<t||u<i||a<e)return;t=Ln.max(t,o),e=Ln.max(e,i),r=Ln.min(r,l),u=Ln.min(u,a)}if(e===u)for(f=t;f<=r;++f)n(f,e,1);else if(t===r)for(c=e;c<=u;++c)n(t,c,1);else for(c=e;c<=u;++c)for(f=t;f<=r;++f)n(f,c,1)}function an(n,t,e,r,u,o,i,l,a,f,c){var s,m,h,d,g,p,y,x,v,w,b,C,T,R,D=null!=l;if(!D||!(Ln.max(t,r,o)<l||Ln.min(t,r,o)>f||Ln.max(e,u,i)<a||Ln.min(e,u,i)>c)){if(u<e&&(h=e,e=u,u=h,h=t,t=r,r=h),i<e&&(h=e,e=i,i=h,h=t,t=o,o=h),i<u&&(h=u,u=i,i=h,h=r,r=o,o=h),hn(w=i-e,0))return d=Ln.round(e),q(n,s=Ln.round(Ln.min(t,r,o)),d,m=Ln.round(Ln.max(t,r,o)),d,l,a,f,c);for(C=i-u,y=o-t,x=r-t,v=o-r,T=hn(b=u-e,0),R=hn(C,0),d=Ln.round(e+.5),g=u,p=Ln.round(i-.5),D&&(d=Ln.max(a,d),p=Ln.min(c,p));d<=p;++d)if(m=d<g?T?(s=t,r):(s=y*(d-e)/w+t,x*(d-e)/b+t):R?(s=r,o):(s=y*(d-e)/w+t,v*(d-u)/C+r),Ln.abs(m-s)<1)(!D||l<=s&&s<=f)&&n(Ln.round(s),d,1);else for(m<s&&(h=s,s=m,m=h),s=Ln.round(s+.5),m=Ln.round(m-.5),D&&(s=Ln.max(l,s),m=Ln.min(f,m));s<=m;++s)n(s,d,1)}}function fn(n,t,e,r,u,o,i,l,a,f,c,s){var m,h,d,g,p,y,x,v,w,b,C,T,R,D,z,I,P,q,A,S,J,_,k,G,L,E=null!=a;for(u<e&&(q=e,e=u,u=q,q=t,t=r,r=q),q=o,A=i,_=r,k=u,G=(_-=S=t)*(q-=S)+(k-=J=e)*(A-=J),L=sn(_,k),sn(q,A),I=(b=B(o+l/(A=sn(o-(b=[S+(q=G/L)*_/L,J+q*k/L])[0],i-b[1]))*(b[0]-o),i+l/A*(b[1]-i),l,l,0,S=Ln.atan2(e,t),Ln.atan2(u,r),S<Ln.atan2(i,o))).length-2,D=0;D<I;D+=2)cn(n,b[D],b[D+1],b[D+2],b[D+3],null,null,a,f,c,s);for(b=N([b]).sort(U),m=Ln.round(Ln.min(e,u,i,b.ymin)),h=Ln.round(Ln.max(e,u,i,b.ymax)),E&&(m=Ln.max(m,f),h=Ln.min(h,s)),C=r-t,R=hn(T=u-e,0),D=0,I=b.length;m<=h;++m){for(;D<I&&b[D][3]<m;)++D;if(I<=D)break;if((P=b[D])[1]>m)m=Ln.floor(P[1]);else{for(g=-(d=O),e<=m&&m<=u&&(g=R?(d=Ln.min(d,t,r),Ln.max(g,t,r)):(d=Ln.min(d,p=C*(m-e)/T+t),Ln.max(g,p))),z=D;z<I&&b[z][1]<=m;++z)(P=b[z])[3]>=m&&(y=P[0],x=P[2],g=hn(v=P[1],w=P[3])?(d=Ln.min(d,y,x),Ln.max(g,y,x)):(d=Ln.min(d,p=(x-y)*(m-v)/(w-v)+y),Ln.max(g,p)));for(d=Ln.round(d+.5),g=Ln.round(g-.5),E&&(d=Ln.max(d,a),g=Ln.min(g,c));d<=g;++d)n(d,m,1)}}}function cn(n,t,e,r,u,o,i,l,a,f,c,s,m){var h=Ln.min(t,r),d=Ln.max(t,r),g=Ln.min(e,u),p=Ln.max(e,u);if(!(d<l||f<h||p<a||c<g)){if(null==o&&(o=Ln.abs(r-t),i=Ln.abs(u-e)),h<l||f<d||g<a||c<p){h=function(n,t,e,r,u,o,i,l){var a=-(e=-(e-n)),f=-(r=-(r-t)),u=n-u,i=i-n,o=t-o,l=l-t,c=1,s=0;if(!(0==e&&u<0||0==a&&i<0||0==r&&o<0||0==f&&l<0||(0!=e&&(u=u/e,i=i/a,e<0?(s<u&&(s=u),i<c&&(c=i)):(s<i&&(s=i),u<c&&(c=u))),0!=r&&(e=o/r,i=l/f,r<0?(s<e&&(s=e),i<c&&(c=i)):(s<i&&(s=i),e<c&&(c=e))),c<s)))return[n+a*s,t+f*s,n+a*c,t+f*c]}(t,e,r,u,l,a,f,c);if(!h)return;t=h[0],e=h[1],r=h[2],u=h[3]}if(hn(o,0)||hn(i,0))return q(n,Ln.round(t),Ln.round(e),Ln.round(r),Ln.round(u));var y,x,v,w,b=0,C=0,T=0,d=o<i;if(d&&(y=t,t=e,e=y,y=r,r=u,u=y,y=o,o=i,i=y),r<t&&(y=t,t=r,r=y,x=e,e=u,u=x),p=e+(w=(u<e?-1:1)*i/o)*((g=Ln.round(t))-t),l=s?1:1-(t+.5-Ln.floor(t+.5)),a=g,T=1-(C=p-(f=Ln.floor(p))),d?(n(f,a,T*l),n(f+1,a,C*l)):(n(a,f,T*l),n(a,f+1,C*l)),b=p+w,p=u+w*((g=Ln.round(r))-r),l=m?1:r+.5-Ln.floor(r+.5),v=g,T=1-(C=p-(c=Ln.floor(p))),d?(n(c,v,T*l),n(c+1,v,C*l)):(n(v,c,T*l),n(v,c+1,C*l)),d)for(y=a+1;y<v;++y)0<(T=1-(C=b-(x=Ln.floor(b))))&&n(x,y,T),0<C&&n(x+1,y,C),b+=w;else for(y=a+1;y<v;++y)0<(T=1-(C=b-(x=Ln.floor(b))))&&n(y,x,T),0<C&&n(y,x+1,C),b+=w}}function B(r,u,o,i,n,l,t,e,a){f=t,e=e,c=w(s=l),f+=c-s,!e&&p<=f-c?f=c+p:e&&p<=c-f?f=c-p:!e&&f<c?f=c+(p-w(c-f)):e&&c<f&&(f=c-(p-w(f-c)));var f,c,s=[c,f],m=(l=s[0],t=s[1],n?Ln.cos(n):1),h=n?Ln.sin(n):0,d=t-l,g=a&&!a.isIdentity;return T(function(n){var n=l+n*d,t=o*Ln.cos(n),n=i*Ln.sin(n),e=r+m*t-h*n,t=u+h*t+m*n;return g?a.transform(e,t):[e,t]})}function v(n,t,e,r,u,o,i,l){var a=[],n=function(n,t,e,r,u,o,i){if(mn(e,n)&&mn(r,t)||mn(e,u)&&mn(r,o)||mn(i,0))return[e,r];var l,a,f,c=!1;if(u={x:u-e,y:o-r},a=sn((o={x:n-e,y:t-r}).x,o.y),f=sn(u.x,u.y),hn(l=(o.x*u.x+o.y*u.y)/(a*f),-1))return[e,r];if(hn(l,1))return[n+(n=65535/a)*o.x,t+n*o.y];t=i/Ln.tan(Ln.acos(l)/2),l={x:e+(n=t/a)*o.x,y:r+n*o.y},n=sn((a={x:o.y,y:-o.x}).x,a.y),o=i/n,(a.x*u.x+a.y*u.y)/(n*f)<0&&(a={x:-a.x,y:-a.y});o={x:l.x+o*a.x,y:l.y+o*a.y},a={x:-a.x,y:-a.y},n=Ln.acos(a.x/n),a.y<0&&(n=p-n);f=sn((t={x:(e={x:e+(a=t/f)*u.x,y:r+a*u.y}).x-o.x,y:e.y-o.y}).x,t.y),r=Ln.acos(t.x/f),t.y<0&&(r=p-r);r<n&&n-r<s&&(c=!0);n<r&&s<r-n&&(c=!0);return[l.x,l.y,o.x,o.y,n,r,!(!c||mn(p,i))]}(n,t,e,r,u,o,i);return n&&2<=n.length&&(a.push(n[0],n[1]),2<n.length)&&a.push.apply(a,B(n[2],n[3],i,i,0,n[4],n[5],n[6],l)),a}function i(i){return T(6<i.length?function(n){var t=1-n,e=n*n,r=t*t,u=r*t,o=e*n,r=3*r*n,n=3*e*t;return[u*i[0]+r*i[2]+n*i[4]+o*i[6],u*i[1]+r*i[3]+n*i[5]+o*i[7]]}:function(n){var t=1-n,e=t*t,t=2*t*n,n=n*n;return[e*i[0]+t*i[2]+n*i[4],e*i[1]+t*i[3]+n*i[5]]})}function E(n,t,e,r,u,o,i,l,a,f,c,s){for(var m,h=0,d=t._d,g=d.length;h<g;++h)(m=d[h])&&2<m.length&&C(n,m,e,0,0,o,i,l,a,f,c,s)}function sn(n,t){n=Ln.abs(n),t=Ln.abs(t);var e=0;return hn(n,0)?t:hn(t,0)?n:t<n?n*Ln.sqrt(1+(e=t/n)*e):n<t?t*Ln.sqrt(1+(e=n/t)*e):n*r}function M(n,t,e,r,u,o){return(n-e)*(o-r)-(u-e)*(t-r)<0?-1:1}function m(n,t,e,r,u,o){var u=u-e,o=o-r,i=sn(u,o);return hn(i,0)?sn(n-e,t-r):Ln.abs(u*(r-t)-o*(e-n))/i}function N(n){if(!n)return[];for(var t,e,r,u=[],o=n.length,i=O,l=-O,a=0,f=0,c=0;c<o;++c)if((r=n[c])&&!((t=r.length-2)<=0)){for(++a,f=1,e=0;e<t;e+=2)r[e].params&&r[e].params.type&&(++a,f=1),i=Ln.min(i,r[e+1]),l=Ln.max(l,r[e+1]),r[e+1]>r[e+3]?u.push([+r[e+2],r[e+3],+r[e],r[e+1],-1,a,f,0,0,0]):u.push([+r[e],r[e+1],+r[e+2],r[e+3],1,a,f,0,0,0]),++f;i=Ln.min(i,r[1+t]),l=Ln.max(l,r[1+t])}return u.ymin=i,u.ymax=l,u}function F(n,t){for(var e,r,u,o=0,i=0;i<t;++i)if(!(r=n[i])[9])for(e=i+1;e<t;++e)(u=n[e])[9]||r[4]!==u[4]||r[5]!==u[5]||1<Ln.abs(r[6]-u[6])||(mn(r[0],u[0],1e-5)&&mn(r[1],u[1],1e-5)&&mn(r[2],u[2],1e-5)&&mn(r[3],u[3],1e-5)||mn(r[3],u[1],1e-6)||mn(r[1],u[3],1e-6))&&(u[9]=1,++o);return o}function T(n){var t,e=[],r=o,u=n(0);for(e.push(u[0],u[1]),t=0;t<r;++t)u=function n(t,e,r,u,o,i){if(u<=r||mn(r,u,1e-6))return o;o=o||e(r);i=i||e(u);var l,a=sn(i[0]-o[0],i[1]-o[1]);if(a<=f){if(a<1)return o;t.push(i[0],i[1])}else m((l=e(a=(r+u)/2))[0],l[1],o[0],o[1],i[0],i[1])<=c?t.push(i[0],i[1]):(n(t,e,r,a,o,l),n(t,e,a,u,l,i));return i}(e,n,0===t?0:t/r,r===t+1?1:(t+1)/r,u,null);return e}function mn(n,t,e){return Ln.abs(n-t)<(e||1e-6)}function hn(n,t){return Ln.abs(n-t)<Number.EPSILON}function En(n,t,e){return Ln.min(Ln.max(n,t),e)}function w(n){return n=n,e=0,r=t=p,(n-=t*Ln.floor(n/t))<e&&(n+=t),r<n&&(n-=t),n;var t,e,r}function U(n,t){var e=n[1]-t[1];return mn(e,0)?n[3]-t[3]:e}function b(n){throw new Error(n)}function t(){}return _.VERSION="0.9.9",_[n]={constructor:_,width:null,height:null,getContext:null},_.getRGBAFrom=function(o){var e;return"function"==typeof o?function(n,t){n=o(n,t);return[n[0],n[1],n[2],3<n.length?n[3]/255:1]}:o.data&&null!=o.width&&null!=o.height?function(n,t){var e=RGAB.width,r=RGAB.height,u=o.data;return 0<=n&&n<e&&0<=t&&t<r?[u[r=n+e*t<<2],u[1+r],u[2+r],u[3+r]/255]:[0,0,0,0]}:(e=[o[0],o[1],o[2],3<o.length?o[3]:1],function(n,t){return e})},_.setRGBATo=function(n){var g,p,y,t;return"function"==typeof n?n:(g=n.width,p=n.height,y=n.data,(t=function(n,t,e,r,u,o,i){if(0<=n&&n<g&&0<=t&&t<p){var n=n+g*t<<2,t=y[n]||0,l=y[1+n]||0,a=y[2+n]||0,f=(y[3+n]||0)/255,c=o,o=0,s=0,m=0,h=0,d=(d=k.CompositionMode[i=i||"source-over"])||k.CompositionMode[i="source-over"];switch(i){case"clear":case"copy":case"xor":case"destination-out":case"destination-in":case"destination-atop":case"destination-over":case"source-out":case"source-in":case"source-atop":case"source-over":h=d(f,f,c,c);break;default:h=c+f-c*f}h=0<h?(o=En(Ln.round(255*d(f*t/255,f,c*e/255,c)/h),0,255),s=En(Ln.round(255*d(f*l/255,f,c*r/255,c)/h),0,255),m=En(Ln.round(255*d(f*a/255,f,c*u/255,c)/h),0,255),En(Ln.round(255*h),0,255)):m=s=o=0,y[n]=o,y[1+n]=s,y[2+n]=m,y[3+n]=h}}).$imgData=n,t)},k[n]={constructor:k,strokeStyle:null,fillStyle:null,lineWidth:null,lineCap:null,lineJoin:null,miterLimit:null,lineDash:null,lineDashOffset:null,getLineDash:null,setLineDash:null,globalAlpha:null,globalCompositeOperation:null,save:null,restore:null,reset:null,scale:null,rotate:null,translate:null,transform:null,getTransform:null,setTransform:null,resetTransform:null,beginPath:null,closePath:null,moveTo:null,lineTo:null,rect:null,arc:null,ellipse:null,arcTo:null,quadraticCurveTo:null,bezierCurveTo:null,clearRect:null,strokeRect:null,fillRect:null,stroke:null,fill:null,clip:null,isPointInStroke:null,isPointInPath:null,createImageData:function(n,t){return null==t&&null!=n.width&&null!=n.height&&(t=n.height,n=n.width),{data:new Gn(n*t<<2),width:n,height:t}},getImageData:null,putImageData:null,drawImage:null,createLinearGradient:t,createRadialGradient:t,createConicGradient:t,createPattern:t,strokeText:t,fillText:t,measureText:t},((_.RenderingContext2D=k).CompositionMode={clear:function(n,t,e,r){return 0},copy:function(n,t,e,r){return e},xor:function(n,t,e,r){return e*(1-t)+n*(1-r)},"destination-out":function(n,t,e,r){return n*(1-r)},"destination-in":function(n,t,e,r){return n*r},"destination-atop":function(n,t,e,r){return e*(1-t)+n*r},"destination-over":function(n,t,e,r){return e*(1-t)+n},"source-out":function(n,t,e,r){return e*(1-t)},"source-in":function(n,t,e,r){return e*t},"source-atop":function(n,t,e,r){return e*t+n*(1-r)},"source-over":function(n,t,e,r){return e+n*(1-r)},multiply:function(n,t,e,r){return e*n+e*(1-t)+n*(1-r)},screen:function(n,t,e,r){return e+n-e*n},overlay:function(n,t,e,r){return 2*n<=t?2*e*n+e*(1-t)+n*(1-r):e*(1+t)+n*(1+r)-2*n*e-t*r},darken:function(n,t,e,r){return Ln.min(e*t,n*r)+e*(1-t)+n*(1-r)},lighten:function(n,t,e,r){return Ln.max(e*t,n*r)+e*(1-t)+n*(1-r)},"color-dodge":function(n,t,e,r){return e===r&&0===n?e*(1-t):e===r?r*t+e*(1-t)+n*(1-r):r*t*Ln.min(1,n/t*r/(r-e))+e*(1-t)+n*(1-r)},"color-burn":function(n,t,e,r){return 0===e&&n===t?r*t+n*(1-r):0===e?n*(1-r):r*t*(1-Ln.min(1,(1-(t?n/t:0))*r/e))+e*(1-t)+n*(1-r)},"hard-light":function(n,t,e,r){return 2*e<=r?2*e*n+e*(1-t)+n*(1-r):e*(1+t)+n*(1+r)-r*t-2*e*n},"soft-light":function(n,t,e,r){var u=t?n/t:0;return 2*e<=r?n*(r+(2*e-r)*(1-u))+e*(1-t)+n*(1-r):r<2*e&&4*n<=t?t*(2*e-r)*(16*Ln.pow(u,3)-12*Ln.pow(u,2)-3*u)+e-e*t+n:t*(2*e-r)*(Ln.pow(u,.5)-u)+e-e*t+n},difference:function(n,t,e,r){return e+n-2*Ln.min(e*t,n*r)},exclusion:function(n,t,e,r){return e*t+n*r-2*e*n+e*(1-t)+n*(1-r)}}).hardlight=k.CompositionMode["hard-light"],k.CompositionMode.softlight=k.CompositionMode["soft-light"],k.Interpolation={nearest:function(n,t,e,r,u){for(var o,i,l=r*u<<2,a=new Gn(l),f=(t-1)/r,c=(e-1)/u,s=t<<2,m=0,h=0,d=0,g=0,p=0,y=0;y<l;y+=4,++m,h+=f)r<=m&&(g=(i=(h=m=0)|(d+=c))*t,p=d-(i<.5?0:s)),a[y]=n[o=(g+(i=0|h)<<2)+(h-(i<.5?0:4))+p],a[y+1]=n[o+1],a[y+2]=n[o+2],a[y+3]=n[o+3];return a},bilinear:function(n,t,e,r,u){for(var o,i,l,a,f,c,s,m,h,d,g=r*u<<2,p=new Gn(g),y=(t-1)/r,x=(e-1)/u,v=t<<2,w=0,b=0,C=0,T=0,R=0,D=0;D<g;D+=4,++w,b+=y)r<=w&&(R=(C+=x)-(d=(b=w=0)|C),T=d*t),o=n[m=T+(d=0|b)<<2],i=n[4+m],l=n[m+v],a=n[m+v+4],p[D]=En(Ln.round(o*(f=(1-(h=b-d))*(1-R))+i*(c=h*(1-R))+l*(s=R*(1-h))+a*(h=h*R)),0,255),o=n[1+m],i=n[5+m],l=n[m+v+1],a=n[m+v+5],p[D+1]=En(Ln.round(o*f+i*c+l*s+a*h),0,255),o=n[2+m],i=n[6+m],l=n[m+v+2],a=n[m+v+6],p[D+2]=En(Ln.round(o*f+i*c+l*s+a*h),0,255),o=n[3+m],i=n[7+m],l=n[m+v+3],a=n[m+v+7],p[D+3]=En(Ln.round(o*f+i*c+l*s+a*h),0,255);return p},bicubic:function(n,t,G,E,O){for(var e,r,u,o,i,l,a,f,B,M,N,F,U,Y,$,j,W,V,X,H,K,Q,Z,nn,tn,en,rn,un,on,ln,an,fn,cn,sn,mn,hn,dn,c,s,m,h,d,gn,pn,yn,g,xn,vn,wn,bn,Cn,Tn,Rn,p,y,x,v,w,b,C,T,R,D,z,I,P,q,A,S,Dn=E*O<<2,J=new Gn(Dn),zn=(t-1)/E,In=(G-1)/O,_=t<<2,Pn=G-1,qn=t-1,An=0,Sn=0,Jn=0,_n=0,kn=0,k=i=l=0,L=0;L<Dn;L+=4,++An,Sn+=zn)E<=An&&(l*=i=(k=(Jn+=In)-(_n=(Sn=An=0)|Jn))*k,kn=_n*t),c=n[e=kn+(r=0|Sn)<<2],s=n[1+e],m=n[2+e],h=n[3+e],d=(A=0==r)?c:n[e-4],gn=A?s:n[e-4+1],pn=A?m:n[e-4+2],yn=A?h:n[e-4+3],g=(S=qn==r)?c:n[4+e],xn=S?s:n[4+e+1],vn=S?m:n[4+e+2],wn=S?h:n[4+e+3],bn=S?c:n[8+e],Cn=S?s:n[8+e+1],Tn=S?m:n[8+e+2],Rn=S?h:n[8+e+3],a=(q=Pn===_n)?c:n[e+_],f=q?s:n[e+_+1],B=q?m:n[e+_+2],M=q?h:n[e+_+3],Z=q?c:n[e+_+_],nn=q?s:n[e+_+_+1],tn=q?m:n[e+_+_+2],en=q?h:n[e+_+_+3],N=q||A?c:n[e+_-4],F=q||A?s:n[e+_-4+1],U=q||A?m:n[e+_-4+2],Y=q||A?h:n[e+_-4+3],$=q||S?c:n[e+_+4],j=q||S?s:n[e+_+4+1],W=q||S?m:n[e+_+4+2],V=q||S?h:n[e+_+4+3],X=q||S?c:n[e+_+8],H=q||S?s:n[e+_+8+1],K=q||S?m:n[e+_+8+2],Q=q||S?h:n[e+_+8+3],rn=q||A?c:n[e+_+_-4],un=q||A?s:n[e+_+_-4+1],on=q||A?m:n[e+_+_-4+2],ln=q||A?h:n[e+_+_-4+3],an=q||S?c:n[e+_+_+4],fn=q||S?s:n[e+_+_+4+1],cn=q||S?m:n[e+_+_+4+2],sn=q||S?h:n[e+_+_+4+3],mn=q||S?c:n[e+_+_+8],hn=q||S?s:n[e+_+_+8+1],dn=q||S?m:n[e+_+_+8+2],q=q||S?h:n[e+_+_+8+3],p=(P=0===_n)?c:n[e-_],y=P?s:n[e-_+1],x=P?m:n[e-_+2],v=P?h:n[e-_+3],w=P||A?c:n[e-_-4],b=P||A?s:n[e-_-4+1],C=P||A?m:n[e-_-4+2],A=P||A?h:n[e-_-4+3],T=P||S?c:n[e-_+4],R=P||S?s:n[e-_+4+1],D=P||S?m:n[e-_+4+2],z=P||S?h:n[e-_+4+3],T=(I=(P||S?c:n[e-_+8])-T-(w-p))*(o=(u=(r=Sn-r)*r)*r)+(w-p-I)*u+(T-w)*r+p,w=(I=(P||S?s:n[e-_+8+1])-R-(b-y))*o+(b-y-I)*u+(R-b)*r+y,p=(I=(P||S?m:n[e-_+8+2])-D-(C-x))*o+(C-x-I)*u+(D-C)*r+x,R=(I=(P||S?h:n[e-_+8+3])-z-(A-v))*o+(A-v-I)*u+(z-A)*r+v,b=(I=bn-g-(d-c))*o+(d-c-I)*u+(g-d)*r+c,y=(I=Cn-xn-(gn-s))*o+(gn-s-I)*u+(xn-gn)*r+s,D=(I=Tn-vn-(pn-m))*o+(pn-m-I)*u+(vn-pn)*r+m,C=(I=Rn-wn-(yn-h))*o+(yn-h-I)*u+(wn-yn)*r+h,x=(I=X-$-(N-a))*o+(N-a-I)*u+($-N)*r+a,P=(I=H-j-(F-f))*o+(F-f-I)*u+(j-F)*r+f,S=(I=K-W-(U-B))*o+(U-B-I)*u+(W-U)*r+B,e=(I=Q-V-(Y-M))*o+(Y-M-I)*u+(V-Y)*r+M,z=(I=mn-an-(rn-Z))*o+(rn-Z-I)*u+(an-rn)*r+Z,A=(I=hn-fn-(un-nn))*o+(un-nn-I)*u+(fn-un)*r+nn,v=(I=dn-cn-(on-tn))*o+(on-tn-I)*u+(cn-on)*r+tn,bn=(I=q-sn-(ln-en))*o+(ln-en-I)*u+(sn-ln)*r+en,g=En(Ln.round((I=z-x-(T-b))*l+(T-b-I)*i+(x-T)*k+b),0,255),d=En(Ln.round((I=A-P-(w-y))*l+(w-y-I)*i+(P-w)*k+y),0,255),c=En(Ln.round((I=v-S-(p-D))*l+(p-D-I)*i+(S-p)*k+D),0,255),Cn=En(Ln.round((I=bn-e-(R-C))*l+(R-C-I)*i+(e-R)*k+C),0,255),J[L]=g,J[L+1]=d,J[L+2]=c,J[L+3]=Cn;return J}},L[n]={constructor:L,_d:null,_sd:null,dispose:null,addPath:null,moveTo:null,lineTo:null,rect:null,roundRect:null,arc:null,ellipse:null,arcTo:null,quadraticCurveTo:null,bezierCurveTo:null,closePath:null},k.Path2D=L,G[n]={constructor:G,is2D:!0,isIdentity:!0,m11:1,m12:0,m13:0,m21:0,m22:1,m23:0,m31:0,m32:0,m33:1,a:null,b:null,c:null,d:null,e:null,f:null,clone:function(){var n=this;return new G(n.m11,n.m12,n.m13,n.m21,n.m22,n.m23)},mul:function(n){var t=this;if(n instanceof G)return new G(t.m11*n.m11+t.m12*n.m21,t.m11*n.m12+t.m12*n.m22,t.m11*n.m13+t.m12*n.m23+t.m13,t.m21*n.m11+t.m22*n.m21,t.m21*n.m12+t.m22*n.m22,t.m21*n.m13+t.m22*n.m23+t.m23)},inv:function(){var n=this,t=n.m11,e=n.m12,r=n.m13,u=n.m21,o=n.m22,n=n.m23,i=t*o-e*u;return hn(i,0)?null:new G(o=o/i,e=-e/i,-o*r-e*n,o=-u/i,e=t/i,-o*r-e*n)},transform:function(n,t){1===arguments.length&&(t=n[1],n=n[0]);var e=this;return[e.m11*n+e.m12*t+e.m13,e.m21*n+e.m22*t+e.m23]}},G.translate=function(n,t){return new G(1,0,n||0,0,1,t||0)},G.scale=function(n,t,e,r){return new G(n,0,-n*(e=e||0)+e,0,t,-t*(r=r||0)+r)},G.rotate=function(n,t,e){t=t||0,e=e||0;var r=Ln.cos(n||0),n=Ln.sin(n||0);return new G(r,-n,t-r*t+n*e,n,r,e-r*e-n*t)},G.skewX=function(n){return new G(1,n||0,0,0,1,0)},G.skewY=function(n){return new G(1,0,0,n||0,1,0)},G.EYE=function(){return new G(1,0,0,0,1,0)},k.Matrix2D=G,y[n]={constructor:y,value:0,params:null,valueOf:function(){return this.value},toString:function(){return String(this.value)}},_});