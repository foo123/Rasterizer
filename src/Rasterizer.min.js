/**
*   Rasterizer
*   rasterize, stroke and fill lines, rectangles, curves and paths
*
*   @version 0.9.92
*   https://github.com/foo123/Rasterizer
*
**/
!function(t,n,e){"use strict";"object"==typeof module&&module.exports?module.exports=e.call(t):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(n)?define(n,["module"],function(n){return e.call(t)}):n in t||(t[n]=e.call(t)||1)&&"function"==typeof define&&define.amd&&define(function(){return t[n]})}("undefined"!=typeof self?self:this,"Rasterizer",function(e){"use strict";var P=Object.defineProperty,n="prototype",Q=Math,O=1/0,r=Q.sqrt(2),R=isNaN,q=isFinite,c=Q.PI,w=2*c,l=6,m=r,h=.5,A="undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:"undefined"!=typeof Uint8Array?Uint8Array:Array,J=[0,0,0,0],i=/[MLHVCSQTAZ]/gi,D=/-?(?:(?:\d+\.\d+)|(?:\.\d+)|(?:\d+))/g;function L(n,t,e,r){var i;if(!(this instanceof L))return new L(n,t,e,r);r=r||(e&&e.$target?L.getRGBAFrom(e.$target):function(n,t){return J}),i=new E(n,t,e,r),P(this,"width",{get:function(){return n},set:function(n){}}),P(this,"height",{get:function(){return t},set:function(n){}}),this.getContext=function(n){if("2d"===n)return i;K('Unsupported context "'+n+'"')}}function E(z,D,g,h){var u,o,t,e,p,y,r,i,l,a,f,s,c,m,d,T,x=this,v=null,b=null,w=function(){v={}},C=function(n){for(var t in v){var e=v[t],t=t.split(",");n(+t[0],+t[1],e)}v=null},S=function(n,t,e){var r;0<=n&&n<z&&0<=t&&t<D&&0<e&&0<m&&(n=String(n)+","+String(t),t=v[n]||0,r=b?b[n]||0:1,t<(e*=m*r))&&(v[n]=e)},k=function(n,t,e){var r="clear"===d?J:u(n,t),i=3<r.length?r[3]:1;g(n,t,r[0],r[1],r[2],i*e,d)},I=function(n,t,e){var r="clear"===d?J:o(n,t),i=3<r.length?r[3]:1;g(n,t,r[0],r[1],r[2],i*e,d)},n=function(n){u=L.getRGBAFrom([0,0,0,1]),o=L.getRGBAFrom([0,0,0,1]),b=v=null,r="butt",i="miter",l=10,a=1,f=[],s=0,c=M.EYE(),m=1,d="source-over",t=[],T=new G(c),n||x.clearRect(0,0,z,D)};P(x,"strokeStyle",{get:function(){return""},set:function(n){u=L.getRGBAFrom(n)}}),P(x,"fillStyle",{get:function(){return""},set:function(n){o=L.getRGBAFrom(n)}}),P(x,"lineWidth",{get:function(){return a},set:function(n){!R(n=+n)&&q(n)&&0<n&&(a=n)}}),P(x,"lineCap",{get:function(){return r},set:function(n){n=String(n).toLowerCase(),-1!==["butt","square","round"].indexOf(n)&&(r=n)}}),P(x,"lineJoin",{get:function(){return i},set:function(n){n=String(n).toLowerCase(),-1!==["miter","bevel","round"].indexOf(n)&&(i=n)}}),P(x,"miterLimit",{get:function(){return l},set:function(n){!R(n=+n)&&q(n)&&0<=n&&(l=n)}}),P(x,"lineDashOffset",{get:function(){return s},set:function(n){!R(n=+n)&&q(n)&&(s=n)}}),P(x,"lineDash",{get:function(){return f.slice()},set:function(n){1&(n=[].concat(n)).length&&(n=n.concat(n)),f=n}}),x.getLineDash=function(){return x.lineDash},x.setLineDash=function(n){x.lineDash=n},P(x,"globalAlpha",{get:function(){return m},set:function(n){!R(n=+n)&&0<=n&&n<=1&&(m=n)}}),P(x,"globalCompositeOperation",{get:function(){return d},set:function(n){d=String(n)}}),x.save=function(){(t=t||[]).push([u,o,b,r,i,l,a,f,s,c,m,d])},x.restore=function(){var n;t&&t.length&&(n=t.pop(),u=n[0],o=n[1],b=n[2],r=n[3],i=n[4],l=n[5],a=n[6],f=n[7],s=n[8],T.transform=c=n[9],m=n[10],d=n[11])},x.reset=function(){n()},x.scale=function(n,t){T.transform=c=c.mul(M.scale(n,t))},x.rotate=function(n){T.transform=c=c.mul(M.rotate(n||0))},x.translate=function(n,t){T.transform=c=c.mul(M.translate(n||0,t||0))},x.transform=function(n,t,e,r,i,u){T.transform=c=c.mul(new M(n,e,i,t,r,u))},x.getTransform=function(){return c.clone()},x.setTransform=function(n,t,e,r,i,u){1<arguments.length?c=new M(n,e,i,t,r,u):n&&null!=n.a&&null!=n.f&&(c=new M(n.a,n.c,n.e,n.b,n.d,n.f)),T.transform=c},x.resetTransform=function(){T.transform=c=M.EYE()},x.beginPath=function(){T=new G(c)},x.closePath=function(){T.closePath()},x.moveTo=function(n,t){T.moveTo(n,t)},x.lineTo=function(n,t){T.lineTo(n,t)},x.rect=function(n,t,e,r){T.rect(n,t,e,r)},x.roundRect=function(n,t,e,r){T.roundRect.apply(T,arguments)},x.arc=function(n,t,e,r,i,u){T.arc(n,t,e,r,i,u)},x.ellipse=function(n,t,e,r,i,u,o,l){T.ellipse(n,t,e,r,i,u,o,l)},x.arcTo=function(n,t,e,r,i){T.arcTo(n,t,e,r,i)},x.quadraticCurveTo=function(n,t,e,r){T.quadraticCurveTo(n,t,e,r)},x.bezierCurveTo=function(n,t,e,r,i,u){T.bezierCurveTo(n,t,e,r,i,u)},x.clearRect=function(n,t,e,r){var i=d,u=m;d="clear",m=1,x.fill(new G(c).rect(n,t,e,r),"evenodd"),d=i,m=u},x.strokeRect=function(n,t,e,r){0<a&&x.stroke(new G(c).rect(n,t,e,r))},x.fillRect=function(n,t,e,r){x.fill(new G(c).rect(n,t,e,r),"evenodd")},x.stroke=function(n){var t,e;0<a&&(e=(n=n||T).transform,t=Q.abs(e.sx),e=Q.abs(e.sy),w(),nn(S,n,a,0,0,r,i,l,t,e,0,0,z-1,D-1),C(k))},e=function(n,t){var e=z-1,r=D-1,i=(nn(S,n,.5,0,0,"butt","bevel",0,1,1,0,0,e,r),S),u=0,o=0,l=e,e=r,a=n._sd;if(a.length){var f,s,c,m,h,d,g,p,y,x,v,b,w,C,T=a.length,k=new Array(T),I=a.ymin,P=a.ymax,R=0,q="evenodd"===t;for(I=Q.max(o,Q.round(I)),P=Q.min(e,Q.round(P));I<=P;++I){for(;R<T&&a[R][3]<I;)++R;if(T<=R)break;if((c=a[R])[1]>I)I=Q.floor(c[1]);else{for(x=c[0],v=c[2],h=c[1],d=c[3],y=H(h,d)?(b=!1,p=Q.min(x,v),Q.max(x,v)):p=b=(v-x)*(I-h)/(d-h)+x,c[8]=b,c[9]=0,k[0]=c,f=R+(s=1);f<T&&a[f][1]<=I;++f)(c=a[f])[3]>=I&&(x=c[0],v=c[2],h=c[1],d=c[3],y=H(h,d)?(b=!1,p=Q.min(p,x,v),Q.max(y,x,v)):(b=(v-x)*(I-h)/(d-h)+x,p=Q.min(p,b),Q.max(y,b)),c[8]=b,c[9]=0,k[s++]=c);if(m=en(k,s),!(s<m+2||(p=Q.max(u,Q.round(p+.5)),(y=Q.min(l,Q.round(y-.5)))<p)))if(q)for(g=p;g<=y;++g){for(C=w=!1,f=0;f<s;++f)(c=k[f])[9]||!1!==(b=c[8])&&(b<g&&(w=!w),g<b)&&(C=!C);w&&C&&i(g,I,1)}else for(g=p;g<=y;++g){for(f=C=w=0;f<s;++f)(c=k[f])[9]||!1!==(b=c[8])&&(b<g||g<b)&&(m=rn(g,I,c[c[4]<0?2:0],c[c[4]<0?3:1],c[c[4]<0?0:2],c[c[4]<0?1:3]),b<g&&(w+=m),g<b)&&(C+=m);w&&C&&i(g,I,1)}}}}},x.fill=function(n,t){!arguments.length||null==n&&null==t?(n=T,t="nonzero"):1!==arguments.length&&null!=t||(n instanceof G?t="nonzero":(t=n,n=T)),t=String(t||"nonzero").toLowerCase(),w(),e(n=n||T,t="evenodd"!==t?"nonzero":t),C(I)},x.clip=function(n,t){!arguments.length||null==n&&null==t?(n=T,t="nonzero"):1!==arguments.length&&null!=t||(n instanceof G?t="nonzero":(t=n,n=T)),"evenodd"!==(t=String(t||"nonzero").toLowerCase())&&(t="nonzero"),(n=n||T)===T&&(T=new G(c)),w(),e(n,t),b=v,v=null},x.isPointInStroke=function(n,t,e){arguments.length<3&&(e=t,t=n,n=T);var r,i,u,o,l,a,f,s=t||0,c=e||0,t=n||T,m=t._d,h=m.length;for(r=0;r<h;++r)if(u=m[r],0<(o=u.length-2))for(i=0;i<o;i+=2)if(l=+u[i],a=u[i+1],f=+u[i+2],U((u[i+3]-a)*(s-l),(c-a)*(f-l),1e-4))return!0;return!1},x.isPointInPath=function(n,t,e,r){n instanceof G||(r=e,e=t,t=n,n=T),"evenodd"!==(r=String(r||"nonzero").toLowerCase())&&(r="nonzero");var i=t||0,u=e||0,t=r,o=(e=n||T)._sd;if(!(!o.length||u<o.ymin||u>o.ymax)){for(var l,a,f,s,c,m,h,d,g,p,y,x,v,b=o.length,w=new Array(b),C=0,e="evenodd"===t;C<b&&o[C][3]<u;)++C;if(!(b<=C||(f=o[C])[1]>u)){for(g=f[0],p=f[2],c=f[1],m=f[3],d=H(c,m)?(y=!1,h=Q.min(g,p),Q.max(g,p)):h=y=(p-g)*(u-c)/(m-c)+g,f[8]=y,f[9]=0,w[0]=f,l=C+(a=1);l<b&&o[l][1]<=u;++l)(f=o[l])[3]>=u&&(g=f[0],p=f[2],c=f[1],m=f[3],d=H(c,m)?(y=!1,h=Q.min(h,g,p),Q.max(d,g,p)):(y=(p-g)*(u-c)/(m-c)+g,h=Q.min(h,y),Q.max(d,y)),f[8]=y,f[9]=0,w[a++]=f);if(s=en(w,a),a<s+2)return!1!==w[0][8]&&U(i,w[0][8]);if(!(d<h||i<h||d<i)){if(e)for(v=x=!1,l=0;l<a;++l)(f=w[l])[9]||!1!==(y=f[8])&&(y<=i&&(x=!x),i<=y)&&(v=!v);else for(l=v=x=0;l<a;++l)(f=w[l])[9]||!1!==(y=f[8])&&(y<i||i<y)&&(s=rn(i,u,f[f[4]<0?2:0],f[f[4]<0?3:1],f[f[4]<0?0:2],f[f[4]<0?1:3]),y<=i&&(x+=s),i<=y)&&(v+=s);if(x&&v)return!0}}}return!1},p=function(n,t,e,r,i,u,o){if(r=Q.min(r,t-1),i=Q.min(i,e-1),u=Q.min(u,t-1),o=Q.min(o,e-1),u<r||o<i)return new A(0);var l,a,f,s,c,m=new A((u-r+1)*(o-i+1)<<2);if(n)for(a=r,f=i,s=0;f<=o;s+=4,++a)u<a&&(a=r,++f),m[s]=n[c=f*t+a<<2],m[s+1]=n[1+c],m[s+2]=n[2+c],m[s+3]=n[3+c];else for(a=r,f=i,s=0;f<=o;s+=4,++a)u<a&&(a=r,++f),l=h(a,f),m[s]=W(l[0],0,255),m[s+1]=W(l[1],0,255),m[s+2]=W(l[2],0,255),m[s+3]=W(Q.round(255*l[3]),0,255);return m},y=function(n,t,e,r,i,u,o,l,a,f,s,c){var m,h,d;for(o=Q.min(o,i-1),l=Q.min(l,u-1),s=Q.min(s,t-1),c=Q.min(c,e-1),a=Q.min(a,i-1),f=Q.min(f,u-1),s-=o,c-=l,h=o,d=l;d<=f;++h)a<h&&(h=o,++d),e<=d+c||t<=h+s||g(h+s,d+c,r[m=d*i+h<<2],r[1+m],r[2+m],r[3+m]/255,"copy")},x.drawImage=function(n,t,e,r,i,u,o,l,a){n&&n.data||K("Invalid image data in drawImage");var f=z,s=D,c=n.width,m=n.height,n=n.data,h=E.Interpolation.bilinear,d=arguments.length;c&&m||K("Invalid image data in drawImage"),t=t||0,e=e||0,3===d?y(0,f,s,n,c,m,0,0,c-1,m-1,u=t,o=e):5===d?(u=t,o=e,a=i,y(0,f,s,c===(l=r)&&m===a?n:h(n,c,m,l,a),l,a,0,0,l-1,a-1,u,o)):y(0,f,s,r===l&&i===a?p(n,c,m,t,e,t+r-1,e+i-1):h(p(n,c,m,t,e,t+r-1,e+i-1),r,i,l,a),l,a,0,0,l-1,a-1,u,o)},x.getImageData=function(n,t,e,r){var i=z,u=D;return null==t&&(t=0),null==r&&(r=u),n=Q.max(0,Q.min(n=null==n?0:n,(e=null==e?i:e)-1,i-1)),t=Q.max(0,Q.min(t,r-1,u-1)),e=Q.min(n+e-1,e-1,i-1),r=Q.min(t+r-1,r-1,u-1),{data:p(null,i,u,n,t,e,r),width:e-n+1,height:r-t+1}},x.putImageData=function(n,t,e){n&&n.data||K("Invalid image data in putImageData");var r=n.width,i=n.height;y(0,z,D,n.data,r,i,0,0,r-1,i-1,t=null==t?0:t,e=null==e?0:e)},n(!0)}function G(n,c){var t,s,e,m,h,d,g,p,y,x=this,f=!0,v=[],b=null;P(x,"transform",{get:function(){return c.clone()},set:function(n){c=n}}),P(x,"_d",{get:function(){return v},set:function(n){}}),P(x,"_sd",{get:function(){return b=b||tn(v)},set:function(n){}}),x.moveTo=function(n,t){n=T([n,t],c);return n&&(v.push(n),f=!1),x},x.closePath=function(){var n,t,e,r,i,u;return v.length&&2<v[v.length-1].length&&(n=+v[v.length-1][0],t=v[v.length-1][1],e=+v[v.length-1][2],r=v[v.length-1][3],i=+v[v.length-1][v[v.length-1].length-2],u=v[v.length-1][v[v.length-1].length-1],U(n,i,1e-6)&&U(t,u,1e-6)?v[v.length-1][v[v.length-1].length-2]=new C(i,{join:[e,r]}):v[v.length-1].push(new C(n,{join:[e,r]}),t),v.push([n,t]),f=!1,b=null),x},x.lineTo=function(n,t){n=T([n,t],c);return n&&(f?(v.push(n),f=!1):(v[v.length-1].push(n[0],n[1]),b=null)),x},x.rect=function(n,t,e,r){e=T([n,t,n+e,t,n+e,t+r,n,t+r],c);return e?(e[0]=new C(+e[0],{lineCap:"butt",lineJoin:"miter"}),v.length&&v[v.length-1].length<=2?v[v.length-1]=e:v.push(e),b=null,x.closePath()):x},x.roundRect=function(n,t,e,r){var i,u,o,l,a,f,s=T([n,t,e,r]);return s?(((f=(arguments[4]&&arguments[4].push?arguments[4]:[].slice.call(arguments,4)).filter(function(n){return 0<n})).length<1||4<f.length)&&K("Invalid radii in roundRect"),4===f.length?(i=f[0],u=f[1],o=f[2],l=f[3]):3===f.length?(i=f[0],u=f[1],l=f[1],o=f[2]):l=2===f.length?(i=f[0],o=f[0],u=f[1],f[1]):(i=f[0],u=f[0],o=f[0],f[0]),e<0&&(n+=e,e=-e,a=i,i=u,u=a,a=l,l=o,o=a),r<0&&(t+=r,r=-r,a=i,i=l,l=a,a=u,u=o,o=a),(f=Q.min(e/(i+u),r/(u+o),e/(o+l),r/(i+l)))<1&&(i*=f,u*=f,l*=f,o*=f),k(s=[],n+i,t,c),k(s,n+e-u,t,c),I(s,n+e-u,t,n+e,t,n+e,t+u,u,c),k(s,n+e,t+r-o,c),I(s,n+e,t+r-o,n+e,t+r,n+e-o,t+r,o,c),k(s,n+l,t+r,c),I(s,n+l,t+r,n,t+r,n,t+r-l,l,c),k(s,n,t+i,c),I(s,n,t+i,n,t,n+i,t,i,c),s[0]=new C(+s[0],{lineCap:"butt",lineJoin:"bevel"}),v.push(s),b=null,x.closePath()):x},x.arc=function(n,t,e,r,i,u){var o=T([n,t,e,r,i]);return o&&(e<0&&K("Negative radius in arc"),(o=B(n,t,e,e,0,r,i,u,c))[0]=new C(+o[0],{type:"arc",lineCap:!0,lineJoin:"bevel"}),o[o.length-2]=new C(+o[o.length-2],{type:"arc",lineCap:!0,lineJoin:!0}),f?(v.push(o),f=!1):v[v.length-1].push.apply(v[v.length-1],o),b=null),x},x.ellipse=function(n,t,e,r,i,u,o,l){var a=T([n,t,e,r,i,u,o]);return a&&((e<0||r<0)&&K("Negative radius in ellipse"),(a=B(n,t,e,r,i,u,o,l,c))[0]=new C(+a[0],{type:"arc",lineCap:!0,lineJoin:"bevel"}),a[a.length-2]=new C(+a[a.length-2],{type:"arc",lineCap:!0,lineJoin:!0}),f?(v.push(a),f=!1):v[v.length-1].push.apply(v[v.length-1],a),b=null),x},x.arcTo=function(n,t,e,r,i){n=T([n,t,e,r,i]);return n&&(i<0&&K("Negative radius in arcTo"),f&&(v.push(c.transform(n[0],n[1])),f=!1),(n=z((t=c.inv().transform(+v[v.length-1][v[v.length-1].length-2],v[v.length-1][v[v.length-1].length-1]))[0],t[1],n[0],n[1],n[2],n[3],i,c))[0]=new C(+n[0],{type:"arc",lineCap:!0,lineJoin:"bevel"}),n[n.length-2]=new C(+n[n.length-2],{type:"arc",lineCap:!0,lineJoin:!0}),v[v.length-1].push.apply(v[v.length-1],n),b=null),x},x.quadraticCurveTo=function(n,t,e,r){n=T([n,t,e,r],c);return n&&(f&&(v.push([n[0],n[1]]),f=!1),t=v[v.length-1].pop(),(n=o([+v[v.length-1].pop(),t,n[0],n[1],n[2],n[3]],c))[0]=new C(+n[0],{type:"bezier",lineCap:!0,lineJoin:"bevel"}),n[n.length-2]=new C(+n[n.length-2],{type:"bezier",lineCap:!0,lineJoin:!0}),v[v.length-1].push.apply(v[v.length-1],n),b=null),x},x.bezierCurveTo=function(n,t,e,r,i,u){n=T([n,t,e,r,i,u],c);return n&&(f&&(v.push([n[0],n[1]]),f=!1),t=v[v.length-1].pop(),(n=o([+v[v.length-1].pop(),t,n[0],n[1],n[2],n[3],n[4],n[5]],c))[0]=new C(+n[0],{type:"bezier",lineCap:!0,lineJoin:"bevel"}),n[n.length-2]=new C(+n[n.length-2],{type:"bezier",lineCap:!0,lineJoin:!0}),v[v.length-1].push.apply(v[v.length-1],n),b=null),x},x.addPath=function(n){return n instanceof G&&(t(n),b=null),x},x.dispose=function(){b=v=null},t=function(n){var e;n._d.reduce(function(n,t){return t&&t.length&&2<t.length&&(e=[+t[t.length-2],t[t.length-1]],n.push(t.slice())),n},v),f=!e||(v.push(e),!1)},1===arguments.length&&(n instanceof M?(c=n,n=null):c=null),c=(c=c instanceof M?c:null)||M.EYE(),n&&(n instanceof G?t(n):(n=n,s=x,e=on(String(n)).match(i),m=n.split(i),g=null,y=p=!(d=[(h=[0,0])[0],h[1]]),e&&e.forEach(function(n,t){var e,r,i,u,o,l,a=n===n.toLowerCase(),f=(on(m[t+1]||"").match(D)||[]).map(un);switch(n.toUpperCase()){case"M":for(l=!1;2<=f.length;)l?(e=[h[0],h[1]],r=[(a?e[0]:0)+f.shift(),(a?e[1]:0)+f.shift()],h[0]=r[0],h[1]=r[1],s.lineTo(h[0],h[1]),p=!0):(h[0]=(a?h[0]:0)+f.shift(),h[1]=(a?h[1]:0)+f.shift(),d=[h[0],h[1]],s.moveTo(h[0],h[1]),y=!0),l=!0;g=null;break;case"H":for(p=y||p;1<=f.length;)e=[h[0],h[1]],r=[(a?e[0]:0)+f.shift(),e[1]],h[0]=r[0],h[1]=r[1],s.lineTo(h[0],h[1]),y&&(p=!0),y=!0;g=null;break;case"V":for(p=y||p;1<=f.length;)r=[(e=[h[0],h[1]])[0],(a?e[1]:0)+f.shift()],h[0]=r[0],h[1]=r[1],s.lineTo(h[0],h[1]),y&&(p=!0),y=!0;g=null;break;case"L":for(p=y||p;2<=f.length;)e=[h[0],h[1]],r=[(a?e[0]:0)+f.shift(),(a?e[1]:0)+f.shift()],h[0]=r[0],h[1]=r[1],s.lineTo(h[0],h[1]),y&&(p=!0),y=!0;g=null;break;case"A":for(y=p=!0;7<=f.length;)o={start:null,end:null,radiusX:f.shift(),radiusY:f.shift(),angle:f.shift(),largeArc:f.shift(),sweep:f.shift()},e=[h[0],h[1]],r=[(a?e[0]:0)+f.shift(),(a?e[1]:0)+f.shift()],h[0]=r[0],h[1]=r[1],o.start=e,o.end=r,s.ellipse.apply(s,function(n,t,e,r,i,u,o,l,a){var f=a?Q.cos(a):1,s=a?Q.sin(a):0,c=f*(n-e)/2+s*(t-r)/2,m=-s*(n-e)/2+f*(t-r)/2,h=c*c,d=m*m,g=o*o,p=l*l,y=h/g+d/p;1<y&&(y=Q.sqrt(y),g=(o*=y)*o,p=(l*=y)*l);y=Q.sqrt(Q.abs((g*p-g*d-p*h)/(g*d+p*h)))*(i===u?-1:1),g=y*o*m/l,d=-y*l*c/o,p=f*g-s*d+(n+e)/2,h=s*g+f*d+(t+r)/2,i=Z(S(1,0,(c-g)/o,(m-d)/l)),y=S((c-g)/o,(m-d)/l,(-c-g)/o,(-m-d)/l);y-=Q.floor(y/w)*w,!u&&0<y&&(y-=w);u&&y<0&&(y+=w);return[p,h,o,l,a,i,i+y,!u]}(o.start[0],o.start[1],o.end[0],o.end[1],o.largeArc,o.sweep,o.radiusX,o.radiusY,o.angle));g=null;break;case"Q":for(y=p=!0;4<=f.length;)e=[h[0],h[1]],r=[(a?e[0]:0)+f.shift(),(a?e[1]:0)+f.shift()],i=[(a?e[0]:0)+f.shift(),(a?e[1]:0)+f.shift()],h[0]=i[0],h[1]=i[1],s.quadraticCurveTo(r[0],r[1],i[0],i[1]),g=["Q",e,r,i];break;case"T":for(y=p=!0;2<=f.length;)e=[h[0],h[1]],i=[(a?e[0]:0)+f.shift(),(a?e[1]:0)+f.shift()],r=g&&"Q"===g[0]?[2*e[0]-g[2][0],2*e[1]-g[2][1]]:[e[0],e[1]],h[0]=i[0],h[1]=i[1],s.quadraticCurveTo(r[0],r[1],i[0],i[1]),g=["Q",e,r,i];break;case"C":for(y=p=!0;6<=f.length;)e=[h[0],h[1]],r=[(a?e[0]:0)+f.shift(),(a?e[1]:0)+f.shift()],i=[(a?e[0]:0)+f.shift(),(a?e[1]:0)+f.shift()],u=[(a?e[0]:0)+f.shift(),(a?e[1]:0)+f.shift()],h[0]=u[0],h[1]=u[1],s.bezierCurveTo(r[0],r[1],i[0],i[1],u[0],u[1]),g=["C",e,r,i,u];break;case"S":for(y=p=!0;4<=f.length;)e=[h[0],h[1]],i=[(a?e[0]:0)+f.shift(),(a?e[1]:0)+f.shift()],u=[(a?e[0]:0)+f.shift(),(a?e[1]:0)+f.shift()],r=g&&"C"===g[0]?[2*e[0]-g[3][0],2*e[1]-g[3][1]]:[e[0],e[1]],h[0]=u[0],h[1]=u[1],s.bezierCurveTo(r[0],r[1],i[0],i[1],u[0],u[1]),g=["C",e,r,i,u];break;case"Z":e=[h[0],h[1]],r=[d[0],d[1]],h[0]=r[0],h[1]=r[1],d=[h[0],h[1]],s.closePath(),y=p=!1,g=null}}),p&&s.moveTo(h[0],h[1])))}function M(n,t,e,r,i,u){var o=this,l=1,a=1;arguments.length&&(o.m11=n,o.m12=t,o.m13=e,o.m21=r,o.m22=i,o.m23=u),P(o,"a",{get:function(){return o.m11},set:function(n){o.m11=l=n}}),P(o,"c",{get:function(){return o.m12},set:function(n){o.m12=n}}),P(o,"e",{get:function(){return o.m13},set:function(n){o.m13=n}}),P(o,"b",{get:function(){return o.m21},set:function(n){o.m21=n}}),P(o,"d",{get:function(){return o.m22},set:function(n){o.m22=a=n}}),P(o,"f",{get:function(){return o.m23},set:function(n){o.m23=n}}),P(o,"is2D",{get:function(){return!0},set:function(n){}}),P(o,"isIdentity",{get:function(){return H(o.m11,1)&&H(o.m12,0)&&H(o.m13,0)&&H(o.m21,0)&&H(o.m22,1)&&H(o.m23,0)},set:function(n){}}),P(o,"sx",{get:function(){return l},set:function(n){l*=n}}),P(o,"sy",{get:function(){return a},set:function(n){a*=n}})}function C(n,t){this.value=n,this.params=t||null}function T(n,t){for(var e=0,r=n.length;e<r;++e)if(R(n[e])||!q(n[e]))return null;if(t)for(e=0;e<r;e+=2){var i=t.transform(n[e],n[e+1]);n[e]=i[0],n[e+1]=i[1]}return n}function k(n,t,e,r){r=r?r.transform(t,e):[t,e];n.push(r[0],r[1])}function I(n,t,e,r,i,u,o,l,a){n.push.apply(n,z(t,e,r,i,u,o,l,a))}function V(n,t,e,r,i,u,o,l,a,f,s,c,m,h,d,g){if(0===l&&0===a)j(n,t,e,r,i,u,o,c,m,h,d,g,!0,!0);else{var p,y,x;if(r<t&&(q=t,t=r,r=q,q=e,e=i,i=q,q=f,f=s,s=q),q=i<e?-1:1,H(u,0))"square"===f&&(e-=q*l),"square"===s&&(i+=q*l),"round"===f&&N(n,t-l,e,t+l,e,t,e-q*l,l,m,h,d,g),"round"===s&&N(n,r-l,i,r+l,i,r,i+q*l,l,m,h,d,g),_(n,Q.round(t-l),Q.round(e),Q.round(t+l),Q.round(i),m,h,d,g);else if(H(o,0))"square"===f&&(t-=+a),"square"===s&&(r+=+a),"round"===f&&N(n,t,e-a,t,e+a,t-a,e,a,m,h,d,g),"round"===s&&N(n,r,i-a,r,i+a,r+a,i,a,m,h,d,g),_(n,Q.round(t),Q.round(e-a),Q.round(r),Q.round(e+a),m,h,d,g);else{"square"===f&&(t-=+a,e-=q*l),"square"===s&&(r+=+a,i+=q*l),o=t-(u=+l),y=e+(R=q*a),t=t+u,e=e-R,p=r-u,x=i+R,r=r+u,u=i-R,"round"!==f&&"round"!==s||(c=Y(l,a)),"round"===f?N(n,o,y,t,e,(o-+a+t-+a)/2,(y-q*l+e-q*l)/2,c,m,h,d,g):j(n,o,y,t,e,null,null,1,m,h,d,g),j(n,t,e,r,u,null,null,1,m,h,d,g),"round"===s?N(n,r,u,p,x,(+a+p+r+ +a)/2,(x+q*l+u+q*l)/2,c,m,h,d,g):j(n,r,u,p,x,null,null,1,m,h,d,g),j(n,p,x,o,y,null,null,1,m,h,d,g);var v,b,w,C,T,k,I,P=n,i=o,R=y,f=t,s=e,a=r,q=u,l=p,c=x,z=m,n=h,D=d,o=g,S=Q.min(R,s,q,c),A=Q.max(R,s,q,c),J=Q.min(i,f,a,l),L=Q.max(i,f,a,l),E=null!=z;if(!E||!(A<n||o<S||L<z||D<J))if(H(S,A))S=Q.round(S),J=Q.round(J),L=Q.round(L),_(P,J,S,L,S,z,n,D,o);else if(S=Q.round(S),A=Q.round(A),E&&(S=Q.max(n,S),A=Q.min(o,A)),!(A<S))for(T=[s<R?[f,s,i,R]:[i,R,f,s],q<s?[a,q,f,s]:[f,s,a,q],c<q?[l,c,a,q]:[a,q,l,c],R<c?[i,R,l,c]:[l,c,i,R]].sort(function(n,t){return n[1]-t[1]}),k=0;S<=A;++S){for(;k<4&&T[k][3]<S;)++k;if(4<=k)return;for(L=-(J=O),I=k;I<4;++I)w=T[I][0],v=T[I][1],C=T[I][2],b=T[I][3],v<=S&&S<=b&&(L=H(v,b)?(J=Q.min(J,w,C),Q.max(L,w,C)):(C=(C-w)*(S-v)/(b-v)+w,J=Q.min(J,C),Q.max(L,C)));for(J=Q.round(J+.5),L=Q.round(L-.5),E&&(J=Q.max(z,J),L=Q.min(D,L));J<=L;++J)P(J,S,1)}}}}function X(n,t,e,r,i){var n=Q.max(0,(n-1)/2),u=1===r?0:r/2,o=1===i?0:i/2,u=r*n+u<.5&&i*n+o<.5?[0,0]:H(t,0)?[r*n+u,0]:H(e,0)?[0,i*n+o]:[(r*n+u)*e/(r=Y(t,e)),(i*n+o)*t/r];return u}function _(n,t,e,r,i,u,o,l,a){var f,s;if(r<t&&(f=t,t=r,r=f),i<e&&(s=e,e=i,i=s),null!=u){if(r<u||l<t||i<o||a<e)return;t=Q.max(t,u),e=Q.max(e,o),r=Q.min(r,l),i=Q.min(i,a)}if(e===i)for(f=t;f<=r;++f)n(f,e,1);else if(t===r)for(s=e;s<=i;++s)n(t,s,1);else for(s=e;s<=i;++s)for(f=t;f<=r;++f)n(f,s,1)}function F(n,t,e,r,i,u,o,l,a,f,s){var c,m,h,d,g,p,y,x,v,b,w,C,T,k,I=null!=l;if(!I||!(Q.max(t,r,u)<l||Q.min(t,r,u)>f||Q.max(e,i,o)<a||Q.min(e,i,o)>s)){if(i<e&&(h=e,e=i,i=h,h=t,t=r,r=h),o<e&&(h=e,e=o,o=h,h=t,t=u,u=h),o<i&&(h=i,i=o,o=h,h=r,r=u,u=h),H(b=o-e,0))return d=Q.round(e),_(n,c=Q.round(Q.min(t,r,u)),d,m=Q.round(Q.max(t,r,u)),d,l,a,f,s);for(C=o-i,y=u-t,x=r-t,v=u-r,T=H(w=i-e,0),k=H(C,0),d=Q.round(e+.5),g=i,p=Q.round(o-.5),I&&(d=Q.max(a,d),p=Q.min(s,p));d<=p;++d)if(m=d<g?T?(c=t,r):(c=y*(d-e)/b+t,x*(d-e)/w+t):k?(c=r,u):(c=y*(d-e)/b+t,v*(d-i)/C+r),Q.abs(m-c)<1)(!I||l<=c&&c<=f)&&n(Q.round(c),d,1);else for(m<c&&(h=c,c=m,m=h),c=Q.round(c+.5),m=Q.round(m-.5),I&&(c=Q.max(l,c),m=Q.min(f,m));c<=m;++c)n(c,d,1)}}function N(n,t,e,r,i,u,o,l,a,f,s,c){var m,h,d,g,p,y,x,v,b,w,C,T,G,k,I,P,R,q,z,D,S,A,J,L,E,M=null!=a;for(i<e&&(q=e,e=i,i=q,q=t,t=r,r=q),q=u,z=o,A=r,J=i,L=(A-=D=t)*(q-=D)+(J-=S=e)*(z-=S),E=Y(A,J),Y(q,z),D=u+l/(z=Y(u-(w=[D+(q=L/E)*A/E,S+q*J/E])[0],o-w[1]))*(w[0]-u),L=o+l/z*(w[1]-o),A=Q.atan2(o-L,u-D),S=Q.atan2(e-L,t-D),J=Q.atan2(i-L,r-D),A=Z(A),E=Z(S),z=Z(J),P=(w=B(D,L,l,l,0,S,J,!(A<E&&A<z||E<A&&z<A||E<A&&A<z))).length-2,k=0;k<P;k+=2)j(n,w[k],w[k+1],w[k+2],w[k+3],null,null,1,a,f,s,c);for(w=tn([w]),m=Q.round(Q.min(e,i,o,w.ymin)),h=Q.round(Q.max(e,i,o,w.ymax)),M&&(m=Q.max(m,f),h=Q.min(h,c)),C=r-t,G=H(T=i-e,0),k=0,P=w.length;m<=h;++m){for(;k<P&&w[k][3]<m;)++k;if(P<=k)break;if((R=w[k])[1]>m)m=Q.floor(R[1]);else{for(g=-(d=O),e<=m&&m<=i&&(g=G?(d=Q.min(d,t,r),Q.max(g,t,r)):(d=Q.min(d,p=C*(m-e)/T+t),Q.max(g,p))),I=k;I<P&&w[I][1]<=m;++I)(R=w[I])[3]>=m&&(y=R[0],x=R[2],g=H(v=R[1],b=R[3])?(d=Q.min(d,y,x),Q.max(g,y,x)):(d=Q.min(d,p=(x-y)*(m-v)/(b-v)+y),Q.max(g,p)));for(d=Q.round(d+.5),g=Q.round(g-.5),M&&(d=Q.max(d,a),g=Q.min(g,s));d<=g;++d)n(d,m,1)}}}function j(n,t,e,r,i,u,o,l,a,f,s,c,m,h){var d=Q.min(t,r),g=Q.max(t,r),p=Q.min(e,i),y=Q.max(e,i);if(!(g<a||s<d||y<f||c<p)){if(null==u&&(u=Q.abs(r-t),o=Q.abs(i-e)),d<a||s<g||p<f||c<y){d=function(n,t,e,r,i,u,o,l){var a=-(e=-(e-n)),f=-(r=-(r-t)),i=n-i,o=o-n,u=t-u,l=l-t,s=1,c=0;if(!(0==e&&i<0||0==a&&o<0||0==r&&u<0||0==f&&l<0||(0!=e&&(i=i/e,o=o/a,e<0?(c<i&&(c=i),o<s&&(s=o)):(c<o&&(c=o),i<s&&(s=i))),0!=r&&(e=u/r,o=l/f,r<0?(c<e&&(c=e),o<s&&(s=o)):(c<o&&(c=o),e<s&&(s=e))),s<c)))return[n+a*c,t+f*c,n+a*s,t+f*s]}(t,e,r,i,a,f,s,c);if(!d)return;t=d[0],e=d[1],r=d[2],i=d[3]}if(H(u,0)||H(o,0))return _(n,Q.round(t),Q.round(e),Q.round(r),Q.round(i));var x,v,b,w,C=0,T=0,k=0,g=u<o,I=l<1?l:1;if(g&&(x=t,t=e,e=x,x=r,r=i,i=x,x=u,u=o,o=x),r<t&&(x=t,t=r,r=x,v=e,e=i,i=v),y=e+(w=(i<e?-1:1)*o/u)*((p=Q.round(t))-t),a=m?1:1-(t+.5-Q.floor(t+.5)),f=p,k=1-(T=y-(s=Q.floor(y))),g?(n(s,f,I*k*a),n(s+1,f,I*T*a)):(n(f,s,I*k*a),n(f,s+1,I*T*a)),C=y+w,y=i+w*((p=Q.round(r))-r),a=h?1:r+.5-Q.floor(r+.5),b=p,k=1-(T=y-(c=Q.floor(y))),g?(n(c,b,I*k*a),n(c+1,b,I*T*a)):(n(b,c,I*k*a),n(b,c+1,I*T*a)),g)for(x=f+1;x<b;++x)0<(k=1-(T=C-(v=Q.floor(C))))&&n(v,x,I*k),0<T&&n(v+1,x,I*T),C+=w;else for(x=f+1;x<b;++x)0<(k=1-(T=C-(v=Q.floor(C))))&&n(x,v,I*k),0<T&&n(x,v+1,I*T),C+=w}}function $(n,t,e,r,i,u,o,l,a,f,s,c,m,h,d,g,p,y,x,v,b){var w,C,T,k,I,P,R,q,z=r<t?-1:1,D=i<e?-1:1,S=u<r?-1:1,A=o<i?-1:1;U(D*a*S*c,A*m*z*l,1e-6)||(T={x:t-(k=z*f),y:e+(q=D*s)},t={x:t+k,y:e-q},e={x:r-k,y:i+q},k={x:r+k,y:i-q},I={x:r-(q=S*h),y:i+(C=A*d)},P={x:r+q,y:i-C},R={x:u-q,y:o+C},u={x:u+q,y:o-C},q={x:r,y:i},o=A*m*z*l<D*a*S*c?(w=e,I):(w=k,P),S*D*z*A<0&&(w=k===w?e:k,o=P===o?I:P),z*A<0&&(w=k===w?e:k),S*D<0&&(o=P===o?I:P),z*S<0&&(w=k===w?e:k,o=P===o?I:P),"bevel"===g?(j(n,w.x,w.y,o.x,o.y,null,null,1,y,x,v,b),F(n,q.x,q.y,w.x,w.y,o.x,o.y,y,x,v,b)):(r=(C=w===k?t:T).x,i=C.y,m=w.x,l=w.y,a=o.x,c=o.y,A=l-i,D=r-m,m=m*i-r*l,l=(S=(z=o===P?u:R).x)*c-a*(e=z.y),k=Y((I=!H(S=A*(r=a-S)-D*(i=e-c),0)&&{x:(D*l-m*r)/S,y:(m*i-A*l)/S}).x-q.x,I.y-q.y),t=Q.min(Y(f,s),Y(h,d)),"round"===g?(I={x:q.x+t*(I.x-q.x)/k,y:q.y+t*(I.y-q.y)/k},F(n,q.x,q.y,w.x,w.y,o.x,o.y,y,x,v,b),N(n,w.x,w.y,o.x,o.y,I.x,I.y,t,y,x,v,b)):p*t<k?(j(n,w.x,w.y,o.x,o.y,null,null,1,y,x,v,b),F(n,q.x,q.y,w.x,w.y,o.x,o.y,y,x,v,b)):(j(n,w.x,w.y,I.x,I.y,null,null,1,y,x,v,b),j(n,o.x,o.y,I.x,I.y,null,null,1,y,x,v,b),F(n,q.x,q.y,w.x,w.y,o.x,o.y,y,x,v,b),F(n,I.x,I.y,w.x,w.y,o.x,o.y,y,x,v,b))))}function B(r,i,u,o,n,l,t,e,a){f=t,e=e,s=Z(c=l),f+=s-c,!e&&w<=f-s?f=s+w:e&&w<=s-f?f=s-w:!e&&f<s?f=s+(w-Z(s-f)):e&&s<f&&(f=s-(w-Z(f-s)));var f,s,c=[s,f],m=(l=c[0],t=c[1],n?Q.cos(n):1),h=n?Q.sin(n):0,d=t-l,g=a&&!a.isIdentity;return p(function(n){var n=l+n*d,t=u*Q.cos(n),n=o*Q.sin(n),e=r+m*t-h*n,t=i+h*t+m*n;return g?a.transform(e,t):[e,t]},g?a.sx:1,g?a.sy:1)}function z(n,t,e,r,i,u,o,l){var a=[],n=function(n,t,e,r,i,u,o){if(U(e,n)&&U(r,t)||U(e,i)&&U(r,u)||U(o,0))return[e,r];var l,a,f,s=!1;if(i={x:i-e,y:u-r},a=Y((u={x:n-e,y:t-r}).x,u.y),f=Y(i.x,i.y),H(l=(u.x*i.x+u.y*i.y)/(a*f),-1))return[e,r];if(H(l,1))return[n+(n=65535/a)*u.x,t+n*u.y];t=o/Q.tan(Q.acos(l)/2),l={x:e+(n=t/a)*u.x,y:r+n*u.y},n=Y((a={x:u.y,y:-u.x}).x,a.y),u=o/n,(a.x*i.x+a.y*i.y)/(n*f)<0&&(a={x:-a.x,y:-a.y});u={x:l.x+u*a.x,y:l.y+u*a.y},a={x:-a.x,y:-a.y},n=Q.acos(a.x/n),a.y<0&&(n=w-n);f=Y((t={x:(e={x:e+(a=t/f)*i.x,y:r+a*i.y}).x-u.x,y:e.y-u.y}).x,t.y),r=Q.acos(t.x/f),t.y<0&&(r=w-r);r<n&&n-r<c&&(s=!0);n<r&&c<r-n&&(s=!0);return[l.x,l.y,u.x,u.y,n,r,!(!s||U(w,o))]}(n,t,e,r,i,u,o);return n&&2<=n.length&&(t=l?l.transform(n[0],n[1]):[n[0],n[1]],a.push(t[0],t[1]),2<n.length)&&a.push.apply(a,B(n[2],n[3],o,o,0,n[4],n[5],n[6],l)),a}function o(o,n){var t=n&&!n.isIdentity;return p(6<o.length?function(n){var t=1-n,e=n*n,r=t*t,i=r*t,u=e*n,r=3*r*n,n=3*e*t;return[i*o[0]+r*o[2]+n*o[4]+u*o[6],i*o[1]+r*o[3]+n*o[5]+u*o[7]]}:function(n){var t=1-n,e=t*t,t=2*t*n,n=n*n;return[e*o[0]+t*o[2]+n*o[4],e*o[1]+t*o[3]+n*o[5]]},t?n.sx:1,t?n.sy:1)}function nn(n,t,e,G,M,r,i,O,_,F,N,j,B,Y){for(var u,o=0,l=t._d,U=l.length;o<U;++o)if((u=l[o])&&2<u.length){E=L=b=v=x=y=p=g=d=h=m=c=s=f=a=J=A=S=D=z=q=R=P=I=k=T=C=w=void 0;var a,f,s,c,m,h,d,g,p,y,x,v,b,w=n,C=u,T=e,k=r,I=i,P=O,R=_,q=F,z=N,D=j,S=B,A=Y,J=C.length,L=I,E=k;if(J<6)V(w,f=C[0],s=C[1],c=C[2],m=C[3],y=Q.abs(c-f),x=Q.abs(m-s),(b=X(T,y,x,R,q))[0],b[1],k,k,T,z,D,S,A);else{for(J-=2,a=0;a<J;a+=2)f=C[a],s=C[a+1],c=C[a+2],m=C[a+3],b=X(T,y=Q.abs(c-f),x=Q.abs(m-s),R,q),f.params&&f.params.lineCap&&(E=!0===f.params.lineCap?k:f.params.lineCap),V(w,f,s,c,m,y,x,b[0],b[1],0===a?E:null,J===a+2?E:null,T,z,D,S,A),0<a&&(0<v[0]||0<v[1]||0<b[0]||0<b[1])&&(f.params&&f.params.lineJoin&&(L=!0===f.params.lineJoin?I:f.params.lineJoin),$(w,h,d,f,s,c,m,g,p,v[0],v[1],y,x,b[0],b[1],L,P,z,D,S,A)),h=f,d=s,g=y,p=x,v=b;c.params&&c.params.join&&(h=c.params.join[0],d=c.params.join[1],0<(v=X(T,g=Q.abs(h-c),p=Q.abs(d-m),R,q))[0]||0<v[1]||0<b[0]||0<b[1])&&$(w,f,s,c,m,h,d,y,x,b[0],b[1],g,p,v[0],v[1],L,P,z,D,S,A)}}}function tn(n){if(!n)return[];for(var t,e,r,i,u=[],o=n.length,l=O,a=-O,f=0,s=0,c=0;c<o;++c)if((i=n[c])&&!((t=i.length-2)<=0)){for(++f,r=-(s=1),e=0;e<t;e+=2)i[e].params&&i[e].params.type&&(0<=r&&r<u.length&&(u[r][7]=u[r+s-2][6]+1,u[r+s-2][7]=u[r][6]+1),++f,s=1,r=u.length),l=Q.min(l,i[e+1]),a=Q.max(a,i[e+1]),i[e+1]>i[e+3]?u.push([+i[e+2],i[e+3],+i[e],i[e+1],-1,f,s,s,0,0]):u.push([+i[e],i[e+1],+i[e+2],i[e+3],1,f,s,s,0,0]),++s;l=Q.min(l,i[1+t]),a=Q.max(a,i[1+t])}return(u=u.sort(g)).ymin=l,u.ymax=a,u}function en(n,t){for(var e,r,i,u=0,o=0;o<t;++o)if(!(r=n[o])[9])for(e=o+1;e<t;++e)(i=n[e])[9]||r[4]!==i[4]||r[5]!==i[5]||1<Q.abs(r[6]-i[6])&&1<Q.abs(r[7]-i[7])||(U(r[0],i[0],1e-6)&&U(r[1],i[1],1e-6)&&U(r[2],i[2],1e-6)&&U(r[3],i[3],1e-6)||U(r[3],i[1],1e-6)||U(r[1],i[3],1e-6))&&(i[9]=1,++u);return u}function p(n,t,e){var r,i=[],u=l,o=n(0);for(i.push(o[0],o[1]),r=0;r<u;++r)o=function n(t,e,r,i,u,o,l,a){if(o<=u||U(u,o,1e-6))return l;l=l||e(u);a=a||e(o);var f,s=Q.max(r,i),c=Y(a[0]-l[0],a[1]-l[1])*s;if(c<=m){if(c<1)return l;t.push(a[0],a[1])}else d((f=e(c=(u+o)/2))[0],f[1],l[0],l[1],a[0],a[1])*s<h?t.push(a[0],a[1]):(n(t,e,r,i,u,c,l,f),n(t,e,r,i,c,o,f,a));return a}(i,n,t,e,0===r?0:r/u,u===r+1?1:(r+1)/u,o,null);return i}function rn(n,t,e,r,i,u){return(n-e)*(u-r)-(i-e)*(t-r)<0?-1:1}function Y(n,t){n=Q.abs(n),t=Q.abs(t);var e=0;return H(n,0)?t:H(t,0)?n:t<n?n*Q.sqrt(1+(e=t/n)*e):n<t?t*Q.sqrt(1+(e=n/t)*e):n*r}function d(n,t,e,r,i,u){var i=i-e,u=u-r,o=Y(i,u);return H(o,0)?Y(n-e,t-r):Q.abs(i*(r-t)-u*(e-n))/o}function S(n,t,e,r){var i,u,o=n*r-t*e;return e=e,r=r,i=Y(n=n,t=t),u=Y(e,r),(o<0?-1:1)*(H(i,0)||H(u,0)?0:Q.acos(W(n/i*(e/u)+t/i*(r/u),-1,1)))}function U(n,t,e){return Q.abs(n-t)<(e||1e-6)}function H(n,t){return Q.abs(n-t)<Number.EPSILON}function W(n,t,e){return Q.min(Q.max(n,t),e)}function Z(n){return n=n,e=0,r=t=w,(n-=t*Q.floor(n/t))<e&&(n+=t),r<n&&(n-=t),n;var t,e,r}function g(n,t){var e=n[1]-t[1];return U(e,0)?n[3]-t[3]:e}function un(n){return parseFloat(n||"")||0}function on(n){return n.trim()}function K(n){throw new Error(n)}function t(){}return L.VERSION="0.9.92",L[n]={constructor:L,width:null,height:null,getContext:null},L.getRGBAFrom=function(u){var e;return"function"==typeof u?function(n,t){n=u(n,t);return[n[0],n[1],n[2],3<n.length?n[3]/255:1]}:u.data&&null!=u.width&&null!=u.height?function(n,t){var e=u.width,r=u.height,i=u.data;return 0<=n&&n<e&&0<=t&&t<r?[i[r=n+e*t<<2],i[1+r],i[2+r],i[3+r]/255]:J}:(e=[u[0]||0,u[1]||0,u[2]||0,3<u.length?u[3]||0:1],function(n,t){return e})},L.setRGBATo=function(y){var n;return"function"==typeof y?y:((n=function(n,t,e,r,i,u,o){var l=y.width,a=y.height,f=y.data;if(0<=n&&n<l&&0<=t&&t<a){var a=n+l*t<<2,n=f[a]||0,l=f[1+a]||0,t=f[2+a]||0,s=(f[3+a]||0)/255,c=u,m=null,h=0,d=0,g=0,p=0;switch("clear"!==(o=o||"source-over")&&"copy"!==o&&(m=(m=E.CompositionMode[o])||E.CompositionMode[o="source-over"]),o){case"clear":m=null;break;case"copy":h=e,d=r,g=i,p=W(Q.round(255*c),0,255),m=null;break;case"xor":case"destination-out":case"destination-in":case"destination-atop":case"destination-over":case"source-out":case"source-in":case"source-atop":case"source-over":p=m(s,s,c,c);break;default:p=c+s-c*s}m&&(p=0<p?(h=W(Q.round(255*m(s*n/255,s,c*e/255,c)/p),0,255),d=W(Q.round(255*m(s*l/255,s,c*r/255,c)/p),0,255),g=W(Q.round(255*m(s*t/255,s,c*i/255,c)/p),0,255),W(Q.round(255*p),0,255)):g=d=h=0),f[a]=h,f[1+a]=d,f[2+a]=g,f[3+a]=p}}).$target=y,n)},E[n]={constructor:E,strokeStyle:null,fillStyle:null,lineWidth:null,lineCap:null,lineJoin:null,miterLimit:null,lineDash:null,lineDashOffset:null,getLineDash:null,setLineDash:null,globalAlpha:null,globalCompositeOperation:null,save:null,restore:null,reset:null,scale:null,rotate:null,translate:null,transform:null,getTransform:null,setTransform:null,resetTransform:null,beginPath:null,closePath:null,moveTo:null,lineTo:null,rect:null,arc:null,ellipse:null,arcTo:null,quadraticCurveTo:null,bezierCurveTo:null,clearRect:null,strokeRect:null,fillRect:null,stroke:null,fill:null,clip:null,isPointInStroke:null,isPointInPath:null,createImageData:function(n,t){return null==t&&null!=n.width&&null!=n.height&&(t=n.height,n=n.width),{data:new A(n*t<<2),width:n,height:t}},getImageData:null,putImageData:null,drawImage:null,createLinearGradient:t,createRadialGradient:t,createConicGradient:t,createPattern:t,strokeText:t,fillText:t,measureText:t},((L.RenderingContext2D=E).CompositionMode={xor:function(n,t,e,r){return e*(1-t)+n*(1-r)},"destination-out":function(n,t,e,r){return n*(1-r)},"destination-in":function(n,t,e,r){return n*r},"destination-atop":function(n,t,e,r){return e*(1-t)+n*r},"destination-over":function(n,t,e,r){return e*(1-t)+n},"source-out":function(n,t,e,r){return e*(1-t)},"source-in":function(n,t,e,r){return e*t},"source-atop":function(n,t,e,r){return e*t+n*(1-r)},"source-over":function(n,t,e,r){return e+n*(1-r)},multiply:function(n,t,e,r){return e*n+e*(1-t)+n*(1-r)},screen:function(n,t,e,r){return e+n-e*n},overlay:function(n,t,e,r){return 2*n<=t?2*e*n+e*(1-t)+n*(1-r):e*(1+t)+n*(1+r)-2*n*e-t*r},darken:function(n,t,e,r){return Q.min(e*t,n*r)+e*(1-t)+n*(1-r)},lighten:function(n,t,e,r){return Q.max(e*t,n*r)+e*(1-t)+n*(1-r)},"color-dodge":function(n,t,e,r){return e===r&&0===n?e*(1-t):e===r?r*t+e*(1-t)+n*(1-r):r*t*Q.min(1,n/t*r/(r-e))+e*(1-t)+n*(1-r)},"color-burn":function(n,t,e,r){return 0===e&&n===t?r*t+n*(1-r):0===e?n*(1-r):r*t*(1-Q.min(1,(1-(t?n/t:0))*r/e))+e*(1-t)+n*(1-r)},"hard-light":function(n,t,e,r){return 2*e<=r?2*e*n+e*(1-t)+n*(1-r):e*(1+t)+n*(1+r)-r*t-2*e*n},"soft-light":function(n,t,e,r){var i=t?n/t:0;return 2*e<=r?n*(r+(2*e-r)*(1-i))+e*(1-t)+n*(1-r):r<2*e&&4*n<=t?t*(2*e-r)*(16*Q.pow(i,3)-12*Q.pow(i,2)-3*i)+e-e*t+n:t*(2*e-r)*(Q.pow(i,.5)-i)+e-e*t+n},difference:function(n,t,e,r){return e+n-2*Q.min(e*t,n*r)},exclusion:function(n,t,e,r){return e*t+n*r-2*e*n+e*(1-t)+n*(1-r)}}).hardlight=E.CompositionMode["hard-light"],E.CompositionMode.softlight=E.CompositionMode["soft-light"],E.Interpolation={bilinear:function(n,t,e,r,i){for(var u,o,l,a,f,s,c,m,h,d,g=r*i<<2,p=new A(g),y=(t-1)/r,x=(e-1)/i,v=t<<2,b=0,w=0,C=0,T=0,k=0,I=0;I<g;I+=4,++b,w+=y)r<=b&&(k=(C+=x)-(d=(w=b=0)|C),T=d*t),u=n[m=T+(d=0|w)<<2],o=n[4+m],l=n[m+v],a=n[m+v+4],p[I]=W(Q.round(u*(f=(1-(h=w-d))*(1-k))+o*(s=h*(1-k))+l*(c=k*(1-h))+a*(h=h*k)),0,255),u=n[1+m],o=n[5+m],l=n[m+v+1],a=n[m+v+5],p[I+1]=W(Q.round(u*f+o*s+l*c+a*h),0,255),u=n[2+m],o=n[6+m],l=n[m+v+2],a=n[m+v+6],p[I+2]=W(Q.round(u*f+o*s+l*c+a*h),0,255),u=n[3+m],o=n[7+m],l=n[m+v+3],a=n[m+v+7],p[I+3]=W(Q.round(u*f+o*s+l*c+a*h),0,255);return p}},G[n]={constructor:G,_d:null,_sd:null,transform:null,dispose:null,addPath:null,moveTo:null,lineTo:null,rect:null,roundRect:null,arc:null,ellipse:null,arcTo:null,quadraticCurveTo:null,bezierCurveTo:null,closePath:null},E.Path2D=G,M[n]={constructor:M,is2D:!0,isIdentity:!0,m11:1,m12:0,m13:0,m21:0,m22:1,m23:0,m31:0,m32:0,m33:1,a:null,b:null,c:null,d:null,e:null,f:null,clone:function(){var n=this,t=new M(n.m11,n.m12,n.m13,n.m21,n.m22,n.m23);return t.sx=n.sx,t.sy=n.sy,t},mul:function(n){var t,e=this;if(n instanceof M)return(t=new M(e.m11*n.m11+e.m12*n.m21,e.m11*n.m12+e.m12*n.m22,e.m11*n.m13+e.m12*n.m23+e.m13,e.m21*n.m11+e.m22*n.m21,e.m21*n.m12+e.m22*n.m22,e.m21*n.m13+e.m22*n.m23+e.m23)).sx=e.sx*n.sx,t.sy=e.sy*n.sy,t},inv:function(){var n=this,t=n.m11,e=n.m12,r=n.m13,i=n.m21,u=n.m22,o=n.m23,l=t*u-e*i;return H(l,0)?null:((i=new M(u=u/l,e=-e/l,-u*r-e*o,u=-i/l,e=t/l,-u*r-e*o)).sx=1/n.sx,i.sy=1/n.sy,i)},transform:function(n,t){1===arguments.length&&(t=n[1],n=n[0]);var e=this;return[e.m11*n+e.m12*t+e.m13,e.m21*n+e.m22*t+e.m23]}},M.translate=function(n,t){return new M(1,0,n||0,0,1,t||0)},M.scale=function(n,t,e,r){e=new M(n,0,-n*(e=e||0)+e,0,t,-t*(r=r||0)+r);return e.sx=n,e.sy=t,e},M.rotate=function(n,t,e){t=t||0,e=e||0;var r=Q.cos(n||0),n=Q.sin(n||0);return new M(r,-n,t-r*t+n*e,n,r,e-r*e-n*t)},M.skewX=function(n){return new M(1,n||0,0,0,1,0)},M.skewY=function(n){return new M(1,0,0,n||0,1,0)},M.EYE=function(){return new M(1,0,0,0,1,0)},E.Matrix2D=M,C[n]={constructor:C,value:0,params:null,valueOf:function(){return this.value},toString:function(){return String(this.value)}},L});